(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.06837ae4"],{"04a5":function(t,a,e){},"1a7a":function(t,a,e){"use strict";e("9307")},"3dfd":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"app"}},[a("Navbar"),a("div",{staticClass:"content-wrapper"},[a("router-view")],1),a("Footer")],1)},n=[],i=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"safe-area-top"}),a("nav",{staticClass:"navbar-modern",attrs:{role:"navigation","aria-label":"Navegación principal"}},[a("div",{staticClass:"navbar-brand-section"},[a("router-link",{staticClass:"brand-link",attrs:{to:"/","aria-label":"Ir al inicio - Rey Pez"}},[a("div",{staticClass:"logo-container"},[a("img",{staticClass:"logo-image",attrs:{src:"https://res.cloudinary.com/hwkcovsmr/image/upload/v1620946647/samples/REY_PEZ_LOGO_nsotww.png",alt:"Logo de Rey Pez",loading:"lazy"}})]),a("h1",{staticClass:"brand-title"},[t._v("Rey Pez")])])],1),a("button",{staticClass:"mobile-toggle",attrs:{"aria-expanded":t.mobileMenuOpen,"aria-controls":"mobile-navigation","aria-label":"Abrir menú de navegación"},on:{click:t.toggleMobileMenu}},[a("span",{staticClass:"hamburger-line",class:{active:t.mobileMenuOpen}}),a("span",{staticClass:"hamburger-line",class:{active:t.mobileMenuOpen}}),a("span",{staticClass:"hamburger-line",class:{active:t.mobileMenuOpen}})]),a("div",{staticClass:"nav-menu",class:{"mobile-open":t.mobileMenuOpen},attrs:{id:"mobile-navigation"}},[a("div",{staticClass:"nav-items"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/","aria-label":"Ir a la página de inicio"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("🏠")]),a("span",{staticClass:"nav-text"},[t._v("Home")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/noteMenu","aria-label":"Gestionar notas"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("📝")]),a("span",{staticClass:"nav-text"},[t._v("Notas")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/sacadas","aria-label":"Ver entradas y salidas"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("📦")]),a("span",{staticClass:"nav-text"},[t._v("Entradas/Salidas")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/existencias","aria-label":"Ver existencias"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("📊")]),a("span",{staticClass:"nav-text"},[t._v("Existencias")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/existencias-crudos","aria-label":"Ver existencias de productos crudos"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("🦐")]),a("span",{staticClass:"nav-text"},[t._v("Existencias Crudos")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/cuentas-mexico","aria-label":"Ver cuentas de México"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("🇲🇽")]),a("span",{staticClass:"nav-text"},[t._v("Cuentas México")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/embarques-menu","aria-label":"Gestionar embarques"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("🚢")]),a("span",{staticClass:"nav-text"},[t._v("Embarques")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/procesos","aria-label":"Ver procesos"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("⚙️")]),a("span",{staticClass:"nav-text"},[t._v("Procesos")])]),a("router-link",{staticClass:"nav-link",attrs:{to:"/barcos","aria-label":"Gestión de barcos"},on:{click:t.closeMobileMenu}},[a("i",{staticClass:"nav-icon"},[t._v("⛵")]),a("span",{staticClass:"nav-text"},[t._v("Barcos")])])],1)]),t.mobileMenuOpen?a("div",{staticClass:"mobile-overlay",attrs:{"aria-hidden":"true"},on:{click:t.closeMobileMenu}}):t._e()])])},o=[],r={name:"Navbar",data(){return{mobileMenuOpen:!1}},methods:{toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen,this.mobileMenuOpen?document.body.style.overflow="hidden":document.body.style.overflow=""},closeMobileMenu(){this.mobileMenuOpen=!1,document.body.style.overflow=""},handleResize(){window.innerWidth>768&&this.mobileMenuOpen&&this.closeMobileMenu()}},mounted(){window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize),document.body.style.overflow=""}},l=r,c=(e("1a7a"),e("2877")),d=Object(c["a"])(l,i,o,!1,null,"790dccc4",null),u=d.exports,p=function(){var t=this;t._self._c;return t._m(0)},m=[function(){var t=this,a=t._self._c;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"footer-content"},[a("p",[t._v("© 2025 Rey Pez - Allan Reyes")])])])}],b={name:"Footer"},v=b,h=(e("7fd0"),Object(c["a"])(v,p,m,!1,null,"6331683e",null)),f=h.exports,g=e("f549"),C={name:"app",components:{Navbar:u,Footer:f},created(){const t=Object(g["a"])();t.checkAuth(),console.log("App inicializada - Estado de auth:",{isAuthenticated:t.isAuthenticated,user:t.user,localStorage:localStorage.getItem("user")?"exists":"null"})}},_=C,x=(e("9cde"),Object(c["a"])(_,s,n,!1,null,null,null));a["a"]=x.exports},"7fd0":function(t,a,e){"use strict";e("04a5")},9307:function(t,a,e){},"93ae":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"cuentas-container"},[a("b-row",[a("b-col",{staticClass:"mb-3",attrs:{cols:"12",md:"6"}},[a("Calcular",{attrs:{cantidad:"$2",datos:t.datos},on:{dataArray:t.procesarDatos}})],1),a("b-col",{staticClass:"mb-3",attrs:{cols:"12",md:"6"}},[a("Calcular",{attrs:{cantidad:"$1",datos:t.datos},on:{dataArray:t.procesarDatos}})],1),a("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[a("b-button",{attrs:{variant:"primary",block:"",disabled:!t.tieneDatos},on:{click:t.imprimirCuentas}},[t._v(" Imprimir sección ")])],1),a("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[a("div",{ref:"seccionImpresion",staticClass:"seccion-impresion"},[a("h1",[t._v("Cuentas")]),a("p",{staticClass:"fecha-impresion"},[t._v(t._s(t.fechaFormateada))]),a("div",{staticClass:"lista-cuentas"},t._l(t.billetes,(function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:e>0,expression:"cantidad > 0"}],key:s,staticClass:"cuenta-item"},[a("span",{staticClass:"denominacion"},[t._v("$"+t._s(s))]),a("span",{staticClass:"cantidad"},[t._v(t._s(e))])])})),0),a("div",{staticClass:"total-general"},[a("strong",[t._v("Total: $"+t._s(t.totalGeneral.toLocaleString()))])]),t.totalGeneral>0?a("div",{staticClass:"promedio-general"},[a("small",[t._v("Promedio: $"+t._s(Math.round(t.promedioPorLinea).toLocaleString()))])]):t._e()])])],1)],1)},n=[],i=(e("13d5"),function(){var t=this,a=t._self._c;return a("div",{staticClass:"calcular-container"},[a("b-button",{staticClass:"boton-calcular",attrs:{variant:"primary",block:"",disabled:!t.tieneDatos||t.estaProcesando},on:{click:t.procesarArreglo}},[a("div",{staticClass:"contenido-boton"},[a("div",{staticClass:"icono-wrapper"},[t.estaProcesando?a("div",{staticClass:"spinner"}):a("span",{staticClass:"icono"},[t._v(t._s(t.iconoBoton))])]),a("div",{staticClass:"texto-boton"},[a("div",{staticClass:"titulo-boton"},[t._v(t._s(t.tituloBoton))]),a("div",{staticClass:"descripcion-boton"},[t._v(t._s(t.descripcionBoton))])])])]),t.mensajeEstado?a("div",{staticClass:"mensaje-estado",class:t.tipoMensaje},[t._v(" "+t._s(t.mensajeEstado)+" ")]):t._e()],1)}),o=[],r={name:"Calcular",props:{datos:{type:String,required:!0,validator(t){return"string"===typeof t}},cantidad:{type:String,required:!0,validator(t){return["$1","$2"].includes(t)}}},data(){return{estaProcesando:!1,mensajeEstado:"",tipoMensaje:"info"}},computed:{tieneDatos(){return this.datos&&this.datos.trim().length>0},esDenominacionDos(){return"$2"===this.cantidad},iconoBoton(){return this.esDenominacionDos,"💵"},tituloBoton(){return"Calcular con "+this.cantidad},descripcionBoton(){return this.tieneDatos?this.esDenominacionDos?"Monedas de $2 y $1":"Monedas de $1":"Ingrese datos primero"},datosLimpiados(){return this.tieneDatos?this.datos.split("\n").map(t=>t.trim()).filter(t=>t.length>0).filter(t=>!isNaN(parseFloat(t.replace(/[$,\s]/g,"")))).map(t=>parseFloat(t.replace(/[$,\s]/g,""))):[]},cantidadLineas(){return this.datosLimpiados.length}},methods:{async procesarArreglo(){if(this.validarDatos()){this.estaProcesando=!0,this.mensajeEstado=`Procesando ${this.cantidadLineas} líneas...`,this.tipoMensaje="info";try{await this.esperar(300);const t=this.datosLimpiados.map(t=>t.toString());this.$emit("dataArray",{data:t,isTwo:this.esDenominacionDos,metadata:{totalLineas:this.cantidadLineas,tipoCalculo:this.cantidad,timestamp:(new Date).toISOString()}}),this.mensajeEstado=`✅ Procesadas ${this.cantidadLineas} líneas correctamente`,this.tipoMensaje="success",setTimeout(()=>{this.mensajeEstado=""},3e3)}catch(t){console.error("Error al procesar datos:",t),this.mensajeEstado="❌ Error al procesar los datos",this.tipoMensaje="error",setTimeout(()=>{this.mensajeEstado=""},5e3)}finally{this.estaProcesando=!1}}},validarDatos(){return this.tieneDatos?0!==this.cantidadLineas||(this.mensajeEstado="⚠️ No se encontraron números válidos",this.tipoMensaje="warning",setTimeout(()=>{this.mensajeEstado=""},3e3),!1):(this.mensajeEstado="⚠️ No hay datos para procesar",this.tipoMensaje="warning",setTimeout(()=>{this.mensajeEstado=""},3e3),!1)},esperar(t){return new Promise(a=>setTimeout(a,t))}},watch:{datos:{handler(){this.mensajeEstado&&"info"!==this.tipoMensaje&&(this.mensajeEstado="")}}}},l=r,c=(e("e33d"),e("2877")),d=Object(c["a"])(l,i,o,!1,null,"20538901",null),u=d.exports,p={name:"Cuentas",components:{Calcular:u},props:{datos:{type:String,default:""}},data(){return{billetes:{500:0,200:0,100:0,50:0,20:0,10:0,5:0,2:0,1:0}}},computed:{fechaFormateada(){const t={year:"numeric",month:"long",day:"numeric"};return(new Date).toLocaleDateString("es-ES",t)},tieneDatos(){return Object.values(this.billetes).some(t=>t>0)},totalGeneral(){return Object.entries(this.billetes).reduce((t,[a,e])=>t+a*e,0)},promedioPorLinea(){if(!this.datos||0===this.datos.trim().length)return 0;const t=this.datos.split("\n").map(t=>t.trim()).filter(t=>t.length>0&&!isNaN(parseFloat(t.replace(/[$,\s]/g,"")))).map(t=>parseFloat(t.replace(/[$,\s]/g,"")));if(0===t.length)return 0;const a=t.reduce((t,a)=>t+a,0);return a/t.length}},methods:{imprimirCuentas(){const t=this.$refs.seccionImpresion;if(!t)return void console.error("Sección de impresión no encontrada");const a=t.innerHTML,e="\n        <style>\n          @media print {\n            * {\n              -webkit-print-color-adjust: exact !important;\n              color-adjust: exact !important;\n            }\n          }\n          body {\n            font-family: 'Arial', sans-serif;\n            margin: 0;\n            padding: 20px;\n            background-color: white;\n            color: #000;\n            display: flex;\n            justify-content: center;\n          }\n          .contenedor-impresion {\n            max-width: 400px;\n            width: 100%;\n            margin: 0 auto;\n            padding: 30px;\n            background-color: white;\n            border: 1px solid #ddd;\n          }\n                     h1 {\n             color: #000;\n             text-align: center;\n             margin-bottom: 15px;\n             font-size: 28px;\n             font-weight: bold;\n           }\n           .fecha-impresion {\n             text-align: center;\n             color: #666;\n             font-size: 16px;\n             margin-bottom: 25px;\n           }\n           .lista-cuentas {\n             border-collapse: collapse;\n             width: 100%;\n             margin-bottom: 25px;\n           }\n                     .cuenta-item {\n             display: flex;\n             justify-content: space-between;\n             align-items: center;\n             padding: 8px 0;\n             border-bottom: 1px solid #eee;\n           }\n           .denominacion {\n             font-weight: bold;\n             color: #000;\n             font-size: 24px;\n             flex: 1;\n           }\n           .cantidad {\n             color: #333;\n             font-size: 24px;\n             font-weight: bold;\n             text-align: right;\n             flex: 1;\n           }\n                     .total-general {\n             text-align: center;\n             padding: 20px;\n             border: 2px solid #000;\n             background-color: white;\n             font-size: 22px;\n             font-weight: bold;\n             margin-top: 15px;\n           }\n           .promedio-general {\n             text-align: center;\n             padding: 10px;\n             color: #666;\n             font-size: 16px;\n             margin-top: 10px;\n           }\n        </style>\n      ",s=window.open("","_blank");s?(s.document.write(`\n        <!DOCTYPE html>\n        <html>\n          <head>\n            <title>Cuentas - ${this.fechaFormateada}</title>\n            <meta charset="UTF-8">\n            ${e}\n          </head>\n          <body>\n            <div class="contenedor-impresion">\n              ${a}\n            </div>\n          </body>\n        </html>\n      `),s.document.close(),s.focus(),setTimeout(()=>{s.print(),s.onafterprint=()=>{s.close()}},250)):console.error("No se pudo abrir la ventana de impresión")},procesarDatos({data:t,isTwo:a}){if(this.reiniciarBilletes(),!t||!Array.isArray(t))return;const e=a?[500,200,100,50,20,10,5,2,1]:[500,200,100,50,20,10,5,1,2];t.forEach(t=>{const a=this.calcularBilletes(t,e);a>0&&console.warn(`No se pudo calcular completamente la cantidad: ${t}, restante: ${a}`)})},calcularBilletes(t,a){let e=parseInt(t)||0;return e<=0?0:(a.forEach(t=>{const a=Math.floor(e/t);a>0&&(this.billetes[t]+=a,e-=a*t)}),e)},reiniciarBilletes(){Object.keys(this.billetes).forEach(t=>{this.billetes[t]=0})}}},m=p,b=(e("fc0f"),Object(c["a"])(m,s,n,!1,null,"48039d55",null));a["a"]=b.exports},9429:function(t,a,e){},"9cde":function(t,a,e){"use strict";e("9429")},a69d:function(t,a,e){},bbf8:function(t,a,e){},e33d:function(t,a,e){"use strict";e("bbf8")},fc0f:function(t,a,e){"use strict";e("a69d")}}]);