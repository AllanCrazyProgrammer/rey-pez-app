{"version":3,"sources":["webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/internals/to-index.js","webpack:///./node_modules/core-js/internals/to-offset.js","webpack:///./node_modules/core-js/modules/es.typed-array.find-last-index.js","webpack:///./node_modules/core-js/modules/es.array-buffer.transfer.js","webpack:///./node_modules/core-js/modules/es.typed-array.to-sorted.js","webpack:///./node_modules/core-js/modules/es.array-buffer.detached.js","webpack:///./src/utils/pdfGenerator.js","webpack:///./node_modules/core-js/internals/detach-transferable.js","webpack:///./node_modules/core-js/modules/es.typed-array.set.js","webpack:///./node_modules/core-js/modules/es.array-buffer.transfer-to-fixed-length.js","webpack:///./node_modules/core-js/internals/array-buffer-transfer.js","webpack:///./node_modules/core-js/internals/function-uncurry-this-clause.js","webpack:///./node_modules/core-js/internals/array-buffer-basic-detection.js","webpack:///./node_modules/core-js/modules/es.typed-array.with.js","webpack:///./node_modules/core-js/internals/engine-is-browser.js","webpack:///./node_modules/core-js/internals/engine-is-deno.js","webpack:///./node_modules/core-js/modules/es.typed-array.to-reversed.js","webpack:///./node_modules/core-js/internals/array-buffer-is-detached.js","webpack:///./node_modules/core-js/internals/try-node-require.js","webpack:///./node_modules/core-js/modules/es.typed-array.at.js","webpack:///./node_modules/core-js/modules/es.typed-array.find-last.js","webpack:///./node_modules/core-js/internals/array-iteration-from-last.js","webpack:///./node_modules/core-js/internals/array-buffer-byte-length.js","webpack:///./node_modules/core-js/internals/is-big-int-array.js","webpack:///./node_modules/core-js/internals/array-with.js","webpack:///./node_modules/core-js/internals/structured-clone-proper-transfer.js","webpack:///./node_modules/core-js/internals/array-to-reversed.js","webpack:///./node_modules/core-js/internals/array-from-constructor-and-list.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/internals/array-buffer-view-core.js","webpack:///./node_modules/core-js/internals/define-built-in-accessor.js","webpack:///./node_modules/core-js/internals/to-big-int.js","webpack:///./node_modules/core-js/internals/to-positive-integer.js"],"names":["uncurryThis","aCallable","NATIVE_BIND","bind","module","exports","fn","that","undefined","apply","arguments","toIntegerOrInfinity","toLength","$RangeError","RangeError","it","number","length","toPositiveInteger","BYTES","offset","ArrayBufferViewCore","$findLastIndex","findLastIndex","aTypedArray","exportTypedArrayMethod","predicate","this","$","$transfer","target","proto","transfer","arrayFromConstructorAndList","getTypedArrayConstructor","sort","TypedArrayPrototype","compareFn","O","A","DESCRIPTORS","defineBuiltInAccessor","isDetached","ArrayBufferPrototype","ArrayBuffer","prototype","configurable","get","async","generarNotaVentaPDF","embarque","clientesDisponibles","clientesJuntarMedidas","console","log","productos","kilosCrudos","clienteCrudos","fecha","cargaCon","warn","logoBase64","loadImageAsBase64","docDefinition","content","columns","image","width","alignment","margin","text","style","stack","Date","toLocaleString","timeZone","year","month","day","generarContenidoClientes","generarSeccionRendimientos","styles","notaVentaHeader","color","fontSize","bold","italics","header","subheader","tableHeader","fillColor","clienteJoselito","background","padding","clienteCatarro","clienteOtilio","clienteOzuna","clienteOtro","medidaHeader","precio","tipoConAgua","nota","defaultStyle","footer","currentPage","pageCount","pdfMake","createPdf","getBuffer","buffer","Uint8Array","numPages","toString","match","docDefinitionAjustado","download","error","contenido","totalTarasLimpio","totalTarasCrudos","productosPorCliente","reduce","acc","producto","clienteId","push","Object","entries","forEach","nombreCliente","obtenerNombreCliente","estiloCliente","obtenerEstiloCliente","debeJuntarMedidas","productosAProcesar","productosAgrupados","medidaNombre","nombreAlternativoPDF","medida","tipo","valorNeto","camaronNeto","clave","kilos","taras","tarasExtra","reporteTaras","reporteBolsas","tarasInfo","map","tara","valor","restarTaras","t","values","agruparProductos","generarTablaProductos","tarasLimpioCliente","sum","totalTaras","generarTablaCrudos","tarasCrudosCliente","crudo","items","itemSum","item","calcularTarasTotales","productosMaquilaOzuna","filter","esVenta","tablaRendimientos","table","headerRows","widths","body","layout","hLineWidth","vLineWidth","hLineColor","vLineColor","totalKilosCrudos","totalKilosLimpios","productosPorMedida","kilosLimpios","calcularKilosLimpios","medidaKey","Number","medida1","medida2","rendimiento","toFixed","rendimientoTotal","totalKilos","i","parseInt","bolsas","sumaKilos","kilo","sumaTaras","sumaTarasExtra","descuentoTaras","extraerMedidaBase","split","toLowerCase","a","b","medidaA","medidaB","localeCompare","valorNetoA","valorNetoB","hayNotas","some","trim","hayHilos","hilos","headerRow","tarasNormales","tarasTotales","tarasTexto","combinarTarasBolsas","row","formatearProducto","node","obtenerColorBorde","crudos","hayPrecios","calcularKilosCrudos","talla","replace","noWrap","nombreLowerCase","includes","precioStr","tipoProducto","tipoPersonalizado","textoFinal","cantidad","sobrante","cantidadSobrante","Array","isArray","cliente","find","c","id","nombre","sumaTarasNormales","resultado","noSumarKilos","kilosTotales","peso","kilosSobrante","combinado","index","bolsa","count","join","colores","url","Promise","resolve","reject","img","Image","crossOrigin","onload","canvas","document","createElement","height","ctx","getContext","drawImage","dataURL","toDataURL","onerror","src","vfs","pdfFonts","WorkerThreads","channel","$detach","global","tryNodeRequire","PROPER_STRUCTURED_CLONE_TRANSFER","structuredClone","$ArrayBuffer","$MessageChannel","MessageChannel","detach","transferable","port1","postMessage","byteLength","call","lengthOfArrayLike","toOffset","toIndexedObject","fails","Int8Array","Int8ArrayPrototype","$set","set","WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS","array","Uint8ClampedArray","0","TO_OBJECT_BUG","NATIVE_ARRAY_BUFFER_VIEWS","arrayLike","len","transferToFixedLength","uncurryThisAccessor","toIndex","arrayBufferByteLength","detachTransferable","DataView","TypeError","min","Math","DataViewPrototype","slice","isResizable","maxByteLength","getInt8","setInt8","arrayBuffer","newLength","preserveResizability","newBuffer","newByteLength","fixedLength","options","copyLength","classofRaw","arrayWith","isBigIntArray","toBigInt","PROPER_ORDER","valueOf","value","relativeIndex","actualValue","IS_DENO","IS_NODE","window","Deno","version","arrayToReversed","name","Function","k","$findLast","findLast","IndexedObject","toObject","createMethod","TYPE","IS_FIND_LAST_INDEX","$this","callbackfn","result","self","boundFunction","classof","$TypeError","klass","C","actualIndex","V8","IS_BROWSER","clone","Constructor","list","$length","hasOwn","isCallable","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","$Object","ObjectPrototype","getPrototypeOf","object","constructor","F","NAME","Prototype","NATIVE_ARRAY_BUFFER","isObject","tryToString","createNonEnumerableProperty","defineBuiltIn","isPrototypeOf","setPrototypeOf","wellKnownSymbol","uid","InternalStateModule","enforceInternalState","enforce","getInternalState","Uint8ClampedArrayPrototype","TypedArray","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","opera","TYPED_ARRAY_TAG_REQUIRED","TypedArrayConstructorsList","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isView","state","isTypedArray","aTypedArrayConstructor","KEY","property","forced","ARRAY","TypedArrayConstructor","error2","exportTypedArrayStaticMethod","makeBuiltIn","defineProperty","descriptor","getter","setter","f","toPrimitive","argument","prim","BigInt"],"mappings":"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","file":"js/chunk-e0336d58.6e615a58.js","sourcesContent":["'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\n\nvar $RangeError = RangeError;\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toIntegerOrInfinity(it);\n  var length = toLength(number);\n  if (number !== length) throw new $RangeError('Wrong length or index');\n  return length;\n};\n","'use strict';\nvar toPositiveInteger = require('../internals/to-positive-integer');\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw new $RangeError('Wrong offset');\n  return offset;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLastIndex = require('../internals/array-iteration-from-last').findLastIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLastIndex` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findlastindex\nexportTypedArrayMethod('findLastIndex', function findLastIndex(predicate /* , thisArg */) {\n  return $findLastIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $transfer = require('../internals/array-buffer-transfer');\n\n// `ArrayBuffer.prototype.transfer` method\n// https://tc39.es/proposal-arraybuffer-transfer/#sec-arraybuffer.prototype.transfer\nif ($transfer) $({ target: 'ArrayBuffer', proto: true }, {\n  transfer: function transfer() {\n    return $transfer(this, arguments.length ? arguments[0] : undefined, true);\n  }\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar sort = uncurryThis(ArrayBufferViewCore.TypedArrayPrototype.sort);\n\n// `%TypedArray%.prototype.toSorted` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tosorted\nexportTypedArrayMethod('toSorted', function toSorted(compareFn) {\n  if (compareFn !== undefined) aCallable(compareFn);\n  var O = aTypedArray(this);\n  var A = arrayFromConstructorAndList(getTypedArrayConstructor(O), O);\n  return sort(A, compareFn);\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isDetached = require('../internals/array-buffer-is-detached');\n\nvar ArrayBufferPrototype = ArrayBuffer.prototype;\n\nif (DESCRIPTORS && !('detached' in ArrayBufferPrototype)) {\n  defineBuiltInAccessor(ArrayBufferPrototype, 'detached', {\n    configurable: true,\n    get: function detached() {\n      return isDetached(this);\n    }\n  });\n}\n","import pdfMake from 'pdfmake/build/pdfmake';\nimport * as pdfFonts from 'pdfmake/build/vfs_fonts';\n\npdfMake.vfs = pdfFonts.default;\n\nexport async function generarNotaVentaPDF(embarque, clientesDisponibles, clientesJuntarMedidas) {\n  try {\n    console.log('Datos del embarque para PDF:', {\n      productos: embarque.productos,\n      kilosCrudos: embarque.kilosCrudos,\n      clienteCrudos: embarque.clienteCrudos,\n      fecha: embarque.fecha,\n      cargaCon: embarque.cargaCon,\n      clientesJuntarMedidas: clientesJuntarMedidas\n    });\n\n    if (!embarque || !embarque.productos) {\n      console.warn('El embarque no contiene datos de productos válidos');\n      return;\n    }\n\n    const logoBase64 = await loadImageAsBase64('https://res.cloudinary.com/hwkcovsmr/image/upload/v1620946647/samples/REY_PEZ_LOGO_nsotww.png');\n    \n    const docDefinition = {\n      content: [\n        {\n          columns: [\n            {\n              image: logoBase64,\n              width: 100,\n              alignment: 'left',\n              margin: [0, 0, 0, 10]\n            },\n            {\n              text: 'Nota de Venta',\n              style: 'notaVentaHeader',\n              alignment: 'center',\n              margin: [0, 20, 0, 0]\n            },\n            {\n              stack: [\n                {\n                  text: `Fecha: ${new Date(embarque.fecha).toLocaleString('es-MX', { \n                    timeZone: 'UTC',\n                    year: 'numeric',\n                    month: '2-digit',\n                    day: '2-digit'\n                  })}`,\n                  alignment: 'right',\n                  margin: [0, 20, 0, 0]\n                },\n                {\n                  text: `Carga con: ${embarque.cargaCon || 'No especificado'}`,\n                  alignment: 'right',\n                  margin: [0, 5, 0, 0]\n                }\n              ]\n            }\n          ]\n        },\n        { text: '\\n' },\n        ...generarContenidoClientes(embarque, clientesDisponibles, clientesJuntarMedidas),\n        // Agregar la nueva sección de rendimientos\n        ...generarSeccionRendimientos({\n          ...embarque,\n          // Asegurarnos de que los kilos crudos estén disponibles\n          kilosCrudos: embarque.kilosCrudos || {}\n        }, clientesDisponibles),\n      ],\n      styles: {\n        notaVentaHeader: {\n          color: '#3760b0',\n          fontSize: 30,\n          bold: true,\n          italics: true,\n        },\n        header: {\n          fontSize: 30,\n          bold: true,\n          color: '#2980b9',\n          margin: [0, 0, 0, 10]\n        },\n        subheader: {\n          fontSize: 25,\n          bold: true,\n          margin: [0, 10, 0, 5]\n        },\n        tableHeader: {\n          bold: true,\n          fontSize: 23,\n          color: 'black',\n          fillColor: '#ecf0f1'\n        },\n        clienteJoselito: {\n          color: '#FFFFFF',\n          background: '#0000FF',\n          padding: [2, 2, 2, 2]\n        },\n        clienteCatarro: {\n          color: '#FFFFFF',\n          background: '#FF0000',\n          padding: [2, 2, 2, 2]\n        },\n        clienteOtilio: {\n          color: '#000000',\n          background: '#FFD700',\n          padding: [2, 2, 2, 2]\n        },\n        clienteOzuna: {\n          color: '#FFFFFF',\n          background: '#008000',\n          padding: [2, 2, 2, 2]\n        },\n        clienteOtro: {\n          color: '#000000',\n          background: '#808080',\n          padding: [2, 2, 2, 2]\n        },\n        medidaHeader: {\n          fontSize: 24,\n          bold: true,\n          color: '#2c3e50',\n          margin: [0, 10, 0, 5]\n        },\n        precio: {\n          color: '#FFFFFF',\n          background: '#FF0000',\n          padding: [2, 2, 2, 2]\n        },\n        tipoConAgua: {\n          color: '#2980b9',  // Color azul\n          bold: true\n        },\n        nota: {\n          fontSize: 18,\n          color: '#666666',\n          italics: true\n        }\n      },\n      defaultStyle: {\n        fontSize: 20\n      },\n      footer: function(currentPage, pageCount) {\n        return {\n          columns: [\n            { text: ' 20 Rey Pez - Tampico, Tamps.', alignment: 'center', margin: [0, 10, 0, 0] },\n          ],\n          margin: [40, 0, 40, 0],\n          fontSize: 15,\n          color: '#3760b0'\n        };\n      }\n    };\n\n    // Crear el documento PDF y verificar número de páginas\n    pdfMake.createPdf(docDefinition).getBuffer((buffer) => {\n      // Crear un Uint8Array del buffer para contar las páginas\n      const pdfData = new Uint8Array(buffer);\n      // Contar ocurrencias de \"/Page\" para estimar número de páginas\n      const numPages = buffer.toString().match(/\\/Page\\W/g).length;\n      \n      if (numPages > 1) {\n        // Ajustar tamaños si excede una página\n        const docDefinitionAjustado = {\n          ...docDefinition,\n          defaultStyle: {\n            ...docDefinition.defaultStyle,\n            fontSize: 16 // Reducir de 20 a 16\n          },\n          styles: {\n            ...docDefinition.styles,\n            notaVentaHeader: {\n              ...docDefinition.styles.notaVentaHeader,\n              fontSize: 24 // Reducir de 30 a 24\n            },\n            header: {\n              ...docDefinition.styles.header,\n              fontSize: 24 // Reducir de 30 a 24\n            },\n            subheader: {\n              ...docDefinition.styles.subheader,\n              fontSize: 20 // Reducir de 25 a 20\n            },\n            tableHeader: {\n              ...docDefinition.styles.tableHeader,\n              fontSize: 18 // Reducir de 23 a 18\n            },\n            medidaHeader: {\n              ...docDefinition.styles.medidaHeader,\n              fontSize: 20 // Reducir de 24 a 20\n            }\n          }\n        };\n        \n        // Crear y descargar el PDF con los ajustes\n        pdfMake.createPdf(docDefinitionAjustado).download('nota-venta.pdf');\n      } else {\n        // Si es una sola página, descargar el original\n        pdfMake.createPdf(docDefinition).download('nota-venta.pdf');\n      }\n    });\n\n  } catch (error) {\n    console.error('Error al generar el PDF:', error);\n  }\n}\n\nfunction generarContenidoClientes(embarque, clientesDisponibles, clientesJuntarMedidas) {\n  const contenido = [];\n  let totalTarasLimpio = 0;\n  let totalTarasCrudos = 0;\n\n  // Agrupar productos por cliente\n  const productosPorCliente = embarque.productos.reduce((acc, producto) => {\n    if (!acc[producto.clienteId]) {\n      acc[producto.clienteId] = [];\n    }\n    acc[producto.clienteId].push(producto);\n    return acc;\n  }, {});\n\n  Object.entries(productosPorCliente).forEach(([clienteId, productos]) => {\n    const nombreCliente = obtenerNombreCliente(clienteId, clientesDisponibles);\n    const estiloCliente = obtenerEstiloCliente(nombreCliente);\n    \n    // Verificar si este cliente específico tiene activada la opción de juntar medidas\n    const debeJuntarMedidas = clientesJuntarMedidas && clientesJuntarMedidas[clienteId];\n    \n    // Procesar los productos según la configuración de juntar medidas\n    let productosAProcesar = productos;\n    if (debeJuntarMedidas) {\n      const productosAgrupados = {};\n      \n      productos.forEach(producto => {\n        const medidaNombre = producto.nombreAlternativoPDF || producto.medida;\n        const tipo = producto.tipo || '';\n        const valorNeto = producto.camaronNeto || 0.65;\n        \n        // Crear una clave única para agrupar\n        const clave = tipo === 'c/h20' \n          ? `${medidaNombre}-${tipo}-${valorNeto}`\n          : `${medidaNombre}-${tipo}`;\n        \n        if (!productosAgrupados[clave]) {\n          productosAgrupados[clave] = {\n            ...producto,\n            medida: medidaNombre,\n            kilos: [...producto.kilos],\n            taras: [...producto.taras],\n            tarasExtra: [...(producto.tarasExtra || [])],\n            reporteTaras: [...(producto.reporteTaras || [])],\n            reporteBolsas: [...(producto.reporteBolsas || [])],\n            // Crear un array para rastrear qué taras tienen descuento\n            tarasInfo: producto.taras.map(tara => ({\n              valor: tara,\n              restarTaras: producto.restarTaras\n            }))\n          };\n        } else {\n          // Combinar los kilos y taras\n          productosAgrupados[clave].kilos.push(...producto.kilos);\n          productosAgrupados[clave].taras.push(...producto.taras);\n          if (producto.tarasExtra) {\n            productosAgrupados[clave].tarasExtra.push(...producto.tarasExtra);\n          }\n          if (producto.reporteTaras) {\n            productosAgrupados[clave].reporteTaras.push(...producto.reporteTaras);\n          }\n          if (producto.reporteBolsas) {\n            productosAgrupados[clave].reporteBolsas.push(...producto.reporteBolsas);\n          }\n          // Agregar la información de las nuevas taras\n          productosAgrupados[clave].tarasInfo.push(\n            ...producto.taras.map(tara => ({\n              valor: tara,\n              restarTaras: producto.restarTaras\n            }))\n          );\n          // Mantener el array de taras sincronizado\n          productosAgrupados[clave].taras = productosAgrupados[clave].tarasInfo.map(t => t.valor);\n        }\n      });\n      \n      productosAProcesar = Object.values(productosAgrupados);\n    }\n    \n    // Agrupar productos por medida y tipo\n    const productosAgrupados = agruparProductos(productosAProcesar);\n    \n    contenido.push(\n      { \n        text: `Cliente: ${nombreCliente}`, \n        style: ['subheader', estiloCliente],\n        margin: [0, 5, 0, 5]\n      },\n      generarTablaProductos(productosAgrupados, estiloCliente, nombreCliente),\n      { text: '\\n' }\n    );\n\n    const tarasLimpioCliente = productos.reduce((sum, producto) => sum + totalTaras(producto), 0);\n    totalTarasLimpio += tarasLimpioCliente;\n\n    contenido.push(\n      { \n        text: `Taras de limpio: ${tarasLimpioCliente}`, \n        margin: [0, 5, 0, 5]\n      },\n      { text: '\\n' }\n    );\n\n    if (embarque.clienteCrudos && embarque.clienteCrudos[clienteId]) {\n      contenido.push(\n        { \n          text: 'Crudos:', \n          style: ['subheader', estiloCliente],\n          margin: [0, 5, 0, 5]\n        },\n        generarTablaCrudos(embarque.clienteCrudos[clienteId], estiloCliente),\n        { text: '\\n' }\n      );\n\n      const tarasCrudosCliente = embarque.clienteCrudos[clienteId].reduce((sum, crudo) => \n        sum + crudo.items.reduce((itemSum, item) => itemSum + calcularTarasTotales(item), 0), 0);\n      totalTarasCrudos += tarasCrudosCliente;\n\n      contenido.push(\n        { \n          text: `Taras de crudo: ${tarasCrudosCliente}`, \n          margin: [0, 5, 0, 5]\n        },\n        { text: '\\n' }\n      );\n    }\n  });\n\n  contenido.push(\n    { text: `Total general de taras: ${totalTarasLimpio + totalTarasCrudos}`, style: 'subheader', margin: [0, 5, 0, 5] }\n  );\n\n  return contenido;\n}\n\nfunction generarSeccionRendimientos(embarque, clientesDisponibles) {\n  const contenido = [];\n  \n  const productosMaquilaOzuna = embarque.productos.filter(producto => \n    producto.clienteId === \"4\" && !producto.esVenta\n  );\n\n  if (productosMaquilaOzuna.length > 0) {\n    contenido.push(\n      { text: 'Rendimientos de Maquila:', style: 'subheader', margin: [0, 20, 0, 10] }\n    );\n\n    const tablaRendimientos = {\n      table: {\n        headerRows: 1,\n        widths: ['33%', '33%', '34%'],\n        body: [\n          [\n            { text: 'Medida', style: 'tableHeader' },\n            { text: 'Kilos en Crudo', style: 'tableHeader' },\n            { text: 'Rendimiento', style: 'tableHeader' }\n          ]\n        ]\n      },\n      layout: {\n        hLineWidth: () => 1,\n        vLineWidth: () => 1,\n        hLineColor: () => '#008000',\n        vLineColor: () => '#008000',\n      }\n    };\n\n    let totalKilosCrudos = 0;\n    let totalKilosLimpios = 0;\n\n    const productosPorMedida = productosMaquilaOzuna.reduce((acc, producto) => {\n      const medida = producto.medida;\n      if (!acc[medida]) {\n        acc[medida] = [];\n      }\n      acc[medida].push(producto);\n      return acc;\n    }, {});\n\n    Object.entries(productosPorMedida).forEach(([medida, productos]) => {\n      const kilosLimpios = productos.reduce((sum, producto) => \n        sum + calcularKilosLimpios(producto), 0);\n\n      let kilosCrudos = 0;\n      const medidaKey = `${medida} Maquila Ozuna`;\n      \n      if (embarque.kilosCrudos && embarque.kilosCrudos[medidaKey]) {\n        if (typeof embarque.kilosCrudos[medidaKey] === 'object') {\n          kilosCrudos = Number(embarque.kilosCrudos[medidaKey].medida1 || 0) + \n                       Number(embarque.kilosCrudos[medidaKey].medida2 || 0);\n        } else {\n          kilosCrudos = Number(embarque.kilosCrudos[medidaKey]);\n        }\n      }\n\n      const rendimiento = kilosLimpios > 0 ? kilosCrudos / kilosLimpios : 0;\n\n      totalKilosCrudos += kilosCrudos;\n      totalKilosLimpios += kilosLimpios;\n\n      tablaRendimientos.table.body.push([\n        { text: medida, alignment: 'center' },\n        { text: `${kilosCrudos.toFixed(2)} kg`, alignment: 'center' },\n        { \n          text: rendimiento.toFixed(2), \n          alignment: 'center',\n          color: rendimiento > 1 ? '#27ae60' : '#000000',\n          bold: rendimiento > 1\n        }\n      ]);\n    });\n\n    const rendimientoTotal = totalKilosLimpios > 0 ? totalKilosCrudos / totalKilosLimpios : 0;\n    \n    tablaRendimientos.table.body.push([\n      { text: 'TOTAL', style: 'tableHeader', alignment: 'center' },\n      { text: `${totalKilosCrudos.toFixed(2)} kg`, style: 'tableHeader', alignment: 'center' },\n      { \n        text: rendimientoTotal.toFixed(2), \n        style: 'tableHeader',\n        alignment: 'center',\n        color: rendimientoTotal > 1 ? '#27ae60' : '#000000',\n        bold: rendimientoTotal > 1\n      }\n    ]);\n\n    contenido.push(tablaRendimientos);\n  }\n\n  return contenido;\n}\n\nfunction calcularKilosCrudosPorMedida(embarque, medida) {\n  // Buscar en los crudos del cliente Ozuna\n  const crudosOzuna = embarque.clienteCrudos?.[\"4\"] || [];\n  \n  let kilosCrudos = 0;\n  \n  crudosOzuna.forEach(crudo => {\n    crudo.items.forEach(item => {\n      // Verificar si la talla del crudo corresponde a la medida\n      if (convertirTallaAMedida(item.talla) === medida) {\n        // Sumar kilos de taras principales\n        if (item.taras) {\n          const [cantidad, peso] = item.taras.split('-').map(Number);\n          kilosCrudos += cantidad * peso;\n        }\n        // Sumar kilos de sobrante si existe\n        if (item.sobrante) {\n          const [cantidad, peso] = item.sobrante.split('-').map(Number);\n          kilosCrudos += cantidad * peso;\n        }\n      }\n    });\n  });\n  \n  return kilosCrudos;\n}\n\nfunction convertirTallaAMedida(talla) {\n  // Mapeo de tallas a medidas\n  const mapeoTallas = {\n    'Med c/c': '51/60',\n    'Med-Esp c/c': '41/50',\n    'Med-gde c/c': '36/40',\n    'Gde c/c': '31/35',\n    'Extra c/c': '21/25',\n    'Jumbo c/c': 'U/15'\n    // Agregar más mapeos según sea necesario\n  };\n  \n  return mapeoTallas[talla] || talla;\n}\n\nfunction calcularKilosLimpios(producto) {\n  if (producto.tipo === 'c/h20') {\n    // Para productos con agua\n    let totalKilos = 0;\n    const reporteTaras = producto.reporteTaras || [];\n    const reporteBolsas = producto.reporteBolsas || [];\n    \n    for (let i = 0; i < reporteTaras.length; i++) {\n      const taras = parseInt(reporteTaras[i]) || 0;\n      const bolsas = parseInt(reporteBolsas[i]) || 0;\n      totalKilos += taras * bolsas;\n    }\n    \n    return totalKilos * (producto.camaronNeto || 0.65);\n  } else {\n    // Para productos sin agua\n    const sumaKilos = producto.kilos.reduce((sum, kilo) => sum + (Number(kilo) || 0), 0);\n    const sumaTaras = producto.taras.reduce((sum, tara) => sum + (Number(tara) || 0), 0);\n    const sumaTarasExtra = (producto.tarasExtra || []).reduce((sum, tara) => sum + (Number(tara) || 0), 0);\n    const totalTaras = sumaTaras + sumaTarasExtra;\n    const descuentoTaras = producto.restarTaras ? totalTaras * 3 : 0;\n    \n    return sumaKilos - descuentoTaras;\n  }\n}\n\nfunction calcularKilosCrudosDesdeReporte(producto) {\n  // Si el producto tiene un valor directo de kilos en crudo, usarlo\n  if (producto.kilosCrudos) {\n    return Number(producto.kilosCrudos);\n  }\n  \n  let totalKilos = 0;\n  \n  // Si tenemos reporteTaras y reporteBolsas\n  if (producto.reporteTaras && producto.reporteBolsas) {\n    for (let i = 0; i < producto.reporteTaras.length; i++) {\n      const taras = parseInt(producto.reporteTaras[i]) || 0;\n      const bolsas = parseInt(producto.reporteBolsas[i]) || 0;\n      totalKilos += taras * bolsas;\n    }\n  }\n  \n  return totalKilos;\n}\n\nfunction extraerMedidaBase(medida) {\n  // Eliminar cualquier texto después de un espacio y convertir a minúsculas\n  return medida.split(' ')[0].toLowerCase();\n}\n\nfunction agruparProductos(productos) {\n  // Ordenar productos por medida y tipo, manteniendo separados los c/h2o con diferentes valores netos\n  return productos.sort((a, b) => {\n    // Usar nombreAlternativoPDF si existe, sino usar medida\n    const medidaA = extraerMedidaBase(a.nombreAlternativoPDF || a.medida);\n    const medidaB = extraerMedidaBase(b.nombreAlternativoPDF || b.medida);\n    \n    if (medidaA !== medidaB) {\n      return medidaA.localeCompare(medidaB);\n    }\n    \n    // Si las medidas son iguales, ordenar por tipo\n    if (a.tipo !== b.tipo) {\n      return a.tipo.localeCompare(b.tipo);\n    }\n    \n    // Si son del mismo tipo y es c/h2o, ordenar por valor neto\n    if (a.tipo === 'c/h20' && b.tipo === 'c/h20') {\n      const valorNetoA = a.camaronNeto || 0.65;\n      const valorNetoB = b.camaronNeto || 0.65;\n      return valorNetoA - valorNetoB;\n    }\n    \n    return 0;\n  });\n}\n\nfunction generarTablaProductos(productos, estiloCliente, nombreCliente) {\n  // Verificar si algún producto tiene notas o hilos\n  const hayNotas = productos.some(producto => producto.nota && producto.nota.trim() !== '');\n  const hayHilos = productos.some(producto => producto.hilos);\n\n  // Definir las columnas del header\n  const headerRow = [\n    { text: 'Kg', style: 'tableHeader' },\n    { text: 'Producto', style: 'tableHeader' },\n    { text: 'Taras', style: 'tableHeader' }\n  ];\n\n  if (hayHilos) {\n    headerRow.push({ text: 'Hilos', style: 'tableHeader' });\n  }\n  if (hayNotas) {\n    headerRow.push({ text: 'Notas', style: 'tableHeader' });\n  }\n\n  const body = [headerRow];\n\n  productos.forEach(producto => {\n    const tarasNormales = (producto.taras || []).reduce((sum, tara) => sum + (tara || 0), 0);\n    const tarasExtra = (producto.tarasExtra || []).reduce((sum, tara) => sum + (tara || 0), 0);\n    \n    const tarasTotales = tarasNormales + tarasExtra;\n    let tarasTexto = `${tarasTotales} ${combinarTarasBolsas(producto.reporteTaras, producto.reporteBolsas)}`;\n\n    const row = [\n      `${totalKilos(producto, nombreCliente)} kg`,\n      formatearProducto(producto),\n      tarasTexto\n    ];\n\n    if (hayHilos) {\n      row.push(producto.hilos || '');\n    }\n    if (hayNotas) {\n      row.push({\n        text: producto.nota || '',\n        style: 'nota'\n      });\n    }\n\n    body.push(row);\n  });\n\n  let widths;\n  if (hayHilos && hayNotas) {\n    widths = ['15%', '25%', '25%', '15%', '20%'];\n  } else if (hayHilos) {\n    widths = ['20%', '30%', '30%', '20%'];\n  } else if (hayNotas) {\n    widths = ['20%', '30%', '30%', '20%'];\n  } else {\n    widths = ['25%', '35%', '40%'];\n  }\n\n  return {\n    table: {\n      headerRows: 1,\n      widths: widths,\n      body: body\n    },\n    layout: {\n      hLineWidth: function(i, node) { return (i === 0 || i === node.table.body.length) ? 2 : 1; },\n      vLineWidth: function(i, node) { return (i === 0 || i === node.table.widths.length) ? 2 : 1; },\n      hLineColor: function(i, node) { return (i === 0 || i === node.table.body.length) ? obtenerColorBorde(estiloCliente) : 'black'; },\n      vLineColor: function(i, node) { return (i === 0 || i === node.table.widths.length) ? obtenerColorBorde(estiloCliente) : 'black'; },\n    }\n  };\n}\n\nfunction generarTablaCrudos(crudos, estiloCliente) {\n  // Verificar si algún ítem tiene precio\n  const hayPrecios = crudos.some(crudo => \n    crudo.items.some(item => item.precio && item.precio.toString().trim() !== '')\n  );\n\n  // Definir las columnas del header según si hay precios o no\n  const headerRow = [\n    { text: 'Cantidad', style: 'tableHeader' },\n    { text: 'Talla', style: 'tableHeader' },\n    { text: 'Taras', style: 'tableHeader' }\n  ];\n\n  // Agregar columna de precio solo si hay precios\n  if (hayPrecios) {\n    headerRow.push({ text: 'Precio', style: 'tableHeader' });\n  }\n\n  const body = [headerRow];\n\n  // Agregar las filas de datos\n  crudos.forEach(crudo => \n    crudo.items.forEach(item => {\n      const row = [\n        `${calcularKilosCrudos(item)} kg`,\n        {\n          text: item.talla.replace(/\\s*c\\/\\s*c$/i, ' c/c'),\n          style: 'default',\n          noWrap: true\n        },\n        calcularTarasTotales(item)\n      ];\n\n      // Agregar precio formateado solo si la columna existe\n      if (hayPrecios) {\n        row.push(item.precio ? { text: `$${Number(item.precio).toLocaleString('en-US')}`, style: 'precio' } : '');\n      }\n\n      body.push(row);\n    })\n  );\n\n  // Definir los anchos de columna según si hay precios o no\n  const widths = hayPrecios\n    ? ['25%', '30%', '25%', '20%']  // Con columna de precio\n    : ['30%', '40%', '30%'];        // Sin columna de precio\n\n  return {\n    table: {\n      headerRows: 1,\n      widths: widths,\n      body: body\n    },\n    layout: {\n      hLineWidth: function(i, node) { return (i === 0 || i === node.table.body.length) ? 2 : 1; },\n      vLineWidth: function(i, node) { return (i === 0 || i === node.table.widths.length) ? 2 : 1; },\n      hLineColor: function(i, node) { return (i === 0 || i === node.table.body.length) ? obtenerColorBorde(estiloCliente) : 'black'; },\n      vLineColor: function(i, node) { return (i === 0 || i === node.table.widths.length) ? obtenerColorBorde(estiloCliente) : 'black'; },\n    }\n  };\n}\n\nfunction obtenerEstiloCliente(nombreCliente) {\n  const nombreLowerCase = nombreCliente.toLowerCase();\n  if (nombreLowerCase.includes('joselito')) return 'clienteJoselito';\n  if (nombreLowerCase.includes('catarro')) return 'clienteCatarro';\n  if (nombreLowerCase.includes('otilio')) return 'clienteOtilio';\n  if (nombreLowerCase.includes('ozuna')) return 'clienteOzuna';\n  return 'clienteOtro';\n}\n\nfunction formatearProducto(producto) {\n  let medida = (producto.nombreAlternativoPDF || producto.medida || '').trim();\n  let precioStr = producto.precio ? ` $${Number(producto.precio).toLocaleString('en-US')}` : '';\n  \n  // Si es c/h20, agregar el indicador pero mantener el nombre original\n  if (producto.tipo === 'c/h20') {\n    return [\n      { text: `${medida} c/h2o`, style: 'tipoConAgua' },\n      { text: precioStr, style: 'precio' }\n    ].filter(item => item.text);\n  }\n  \n  // Si es s/h20, agregar el indicador pero mantener el nombre original\n  if (producto.tipo === 's/h20') {\n    return [\n      { text: `${medida} s/h2o`, style: 'default' },\n      { text: precioStr, style: 'precio' }\n    ].filter(item => item.text);\n  }\n  \n  // Para otros tipos, mostrar el nombre exacto con el tipo si existe\n  let tipoProducto = producto.tipo === 'otro' ? producto.tipoPersonalizado : producto.tipo;\n  let textoFinal = tipoProducto ? `${medida} ${tipoProducto}` : medida;\n  \n  return [\n    { text: textoFinal, style: 'default' },\n    { text: precioStr, style: 'precio' }\n  ].filter(item => item.text);\n}\n\nfunction calcularTarasTotales(item) {\n  let tarasTotales = 0;\n  if (item.taras) {\n    const [cantidad] = item.taras.split('-').map(Number);\n    tarasTotales += cantidad;\n  }\n  if (item.sobrante) {\n    const [cantidadSobrante] = item.sobrante.split('-').map(Number);\n    tarasTotales += cantidadSobrante;\n  }\n  return tarasTotales;\n}\n\nfunction obtenerNombreCliente(clienteId, clientesDisponibles) {\n  if (!clientesDisponibles || !Array.isArray(clientesDisponibles)) {\n    console.warn('La lista de clientes disponibles no es válida');\n    return 'Cliente Desconocido';\n  }\n  const cliente = clientesDisponibles.find(c => c.id.toString() === clienteId.toString());\n  return cliente ? cliente.nombre : 'Cliente Desconocido';\n}\n\nfunction obtenerTipoProducto(producto) {\n  let tipo = producto.tipo === 'otro' ? (producto.tipoPersonalizado || 'Otro') : (producto.tipo || '');\n\n  // Reemplazar saltos de lnea o espacios múltiples con un solo espacio\n  tipo = tipo.replace(/\\s+/g, ' ').trim();\n  \n  if (/\\d+\\/\\d+/.test(tipo)) {\n    let parteNumerica = tipo.match(/\\d+\\/\\d+/)[0];\n    let h2o = '';\n    if (tipo.toLowerCase().includes('s/h2o') || tipo.toLowerCase().includes('s/h20')) {\n      h2o = 's/h2o';\n    } else if (tipo.toLowerCase().includes('c/h2o') || tipo.toLowerCase().includes('c/h20')) {\n      h2o = 'c/h2o';\n    }\n    \n    return h2o ? `${parteNumerica} ${h2o}` : parteNumerica;\n  }\n  \n  return tipo;\n}\n\nfunction totalTaras(producto) {\n  const tarasNormales = (producto.taras || []).reduce((sum, tara) => sum + (tara || 0), 0);\n  const tarasExtra = (producto.tarasExtra || []).reduce((sum, tara) => sum + (tara || 0), 0);\n  return tarasNormales + tarasExtra;\n}\n\nfunction totalKilos(producto, nombreCliente) {\n  const sumaKilos = (producto.kilos || []).reduce((sum, kilo) => sum + (kilo || 0), 0);\n  \n  // Calcular el descuento de taras\n  let descuentoTaras = 0;\n  \n  if (producto.tarasInfo) {\n    // Si tiene tarasInfo (productos combinados), usar esa información\n    descuentoTaras = producto.tarasInfo.reduce((sum, tara) => {\n      return sum + (tara.restarTaras ? (Number(tara.valor) || 0) * 3 : 0);\n    }, 0);\n  } else {\n    // Para productos normales (no combinados), usar la lógica original\n    const sumaTarasNormales = (producto.taras || []).reduce((sum, tara) => sum + (tara || 0), 0);\n    descuentoTaras = producto.restarTaras ? sumaTarasNormales * 3 : 0;\n  }\n  \n  let resultado = sumaKilos - descuentoTaras;\n  \n  // Modificar esta parte para considerar noSumarKilos\n  if (!producto.noSumarKilos && \n      (producto.tipo.toLowerCase().includes('s/h2o') || \n       producto.tipo.toLowerCase().includes('s/h20'))) {\n    if (nombreCliente.toLowerCase().includes('catarro')) {\n      resultado += 1;\n    }\n  }\n  \n  return Number(resultado.toFixed(1));\n}\n\nfunction calcularKilosCrudos(item) {\n  let kilosTotales = 0;\n  \n  // Procesar taras principales\n  if (item.taras) {\n    const [cantidad, peso] = item.taras.split('-').map(Number);\n    // Multiplicar por 20.5 en lugar del peso especificado\n    kilosTotales += cantidad * 20.5;\n  }\n  \n  // Procesar sobrante (se suma directamente el peso especificado)\n  if (item.sobrante) {\n    const [, kilosSobrante] = item.sobrante.split('-').map(Number);\n    kilosTotales += kilosSobrante;\n  }\n  \n  return kilosTotales.toFixed(2);\n}\n\nfunction combinarTarasBolsas(taras, bolsas) {\n  const combinado = {};\n  \n  taras.forEach((tara, index) => {\n    const bolsa = bolsas[index] || '';\n    if (!combinado[bolsa]) {\n      combinado[bolsa] = 0;\n    }\n    combinado[bolsa] += parseInt(tara || 1);\n  });\n\n  return Object.entries(combinado)\n    .map(([bolsa, count]) => `(${count}-${bolsa})`)\n    .join(' ');\n}\n\nfunction obtenerColorBorde(estiloCliente) {\n  const colores = {\n    clienteJoselito: '#0000FF',\n    clienteCatarro: '#FF0000',\n    clienteOtilio: '#FFD700',\n    clienteOzuna: '#008000',\n    clienteOtro: '#808080'\n  };\n  return colores[estiloCliente] || '#000000';\n}\n\nfunction loadImageAsBase64(url) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.onload = function() {\n      const canvas = document.createElement('canvas');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0);\n      const dataURL = canvas.toDataURL('image/png');\n      resolve(dataURL);\n    };\n    img.onerror = reject;\n    img.src = url;\n  });\n}\n\nfunction combinarProductosPorMedida(productos) {\n  const productosCombinados = {};\n\n  productos.forEach(producto => {\n    const medidaNormalizada = normalizarMedida(producto.medida);\n    if (!productosCombinados[medidaNormalizada]) {\n      productosCombinados[medidaNormalizada] = {\n        ...producto,\n        kilos: 0,\n        bolsas: 0\n      };\n    }\n    productosCombinados[medidaNormalizada].kilos += producto.kilos;\n    productosCombinados[medidaNormalizada].bolsas += producto.bolsas;\n  });\n\n  return Object.values(productosCombinados);\n}\n\nfunction normalizarMedida(medida) {\n  // Normalizar la medida para combinar productos similares\n  return medida.replace(/\\s+/g, '').toLowerCase();\n}\n\n// Nueva función para combinar productos similares\nfunction combinarProductosSimilares(productos) {\n  const productosAgrupados = {};\n\n  productos.forEach(producto => {\n    // Usar nombreAlternativoPDF si existe, sino usar medida\n    const medidaNombre = producto.nombreAlternativoPDF || producto.medida;\n    const tipo = producto.tipo || '';\n    const valorNeto = producto.camaronNeto || 0.65;\n    \n    // Para productos c/h2o, incluir el valor neto en la clave para mantenerlos separados\n    const clave = tipo === 'c/h20' \n      ? `${medidaNombre}-${tipo}-${valorNeto}`\n      : `${medidaNombre}-${tipo}`;\n    \n    if (!productosAgrupados[clave]) {\n      productosAgrupados[clave] = {\n        ...producto,\n        medida: medidaNombre,\n        kilos: [...producto.kilos],\n        taras: [...producto.taras],\n        tarasExtra: [...(producto.tarasExtra || [])],\n        reporteTaras: [...(producto.reporteTaras || [])],\n        reporteBolsas: [...(producto.reporteBolsas || [])],\n        // Crear un array para rastrear qué taras tienen descuento\n        tarasInfo: producto.taras.map(tara => ({\n          valor: tara,\n          restarTaras: producto.restarTaras\n        }))\n      };\n    } else {\n      // Combinar los kilos y taras\n      productosAgrupados[clave].kilos.push(...producto.kilos);\n      \n      // Agregar la información de las nuevas taras\n      productosAgrupados[clave].tarasInfo.push(\n        ...producto.taras.map(tara => ({\n          valor: tara,\n          restarTaras: producto.restarTaras\n        }))\n      );\n      \n      // Mantener el array de taras sincronizado\n      productosAgrupados[clave].taras = productosAgrupados[clave].tarasInfo.map(t => t.valor);\n      \n      if (producto.tarasExtra) {\n        productosAgrupados[clave].tarasExtra.push(...producto.tarasExtra);\n      }\n      if (producto.reporteTaras) {\n        productosAgrupados[clave].reporteTaras.push(...producto.reporteTaras);\n      }\n      if (producto.reporteBolsas) {\n        productosAgrupados[clave].reporteBolsas.push(...producto.reporteBolsas);\n      }\n    }\n  });\n  \n  return Object.values(productosAgrupados);\n}","'use strict';\nvar global = require('../internals/global');\nvar tryNodeRequire = require('../internals/try-node-require');\nvar PROPER_STRUCTURED_CLONE_TRANSFER = require('../internals/structured-clone-proper-transfer');\n\nvar structuredClone = global.structuredClone;\nvar $ArrayBuffer = global.ArrayBuffer;\nvar $MessageChannel = global.MessageChannel;\nvar detach = false;\nvar WorkerThreads, channel, buffer, $detach;\n\nif (PROPER_STRUCTURED_CLONE_TRANSFER) {\n  detach = function (transferable) {\n    structuredClone(transferable, { transfer: [transferable] });\n  };\n} else if ($ArrayBuffer) try {\n  if (!$MessageChannel) {\n    WorkerThreads = tryNodeRequire('worker_threads');\n    if (WorkerThreads) $MessageChannel = WorkerThreads.MessageChannel;\n  }\n\n  if ($MessageChannel) {\n    channel = new $MessageChannel();\n    buffer = new $ArrayBuffer(2);\n\n    $detach = function (transferable) {\n      channel.port1.postMessage(null, [transferable]);\n    };\n\n    if (buffer.byteLength === 2) {\n      $detach(buffer);\n      if (buffer.byteLength === 0) detach = $detach;\n    }\n  }\n} catch (error) { /* empty */ }\n\nmodule.exports = detach;\n","'use strict';\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toOffset = require('../internals/to-offset');\nvar toIndexedObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar $set = Int8ArrayPrototype && Int8ArrayPrototype.set;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS = !fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  var array = new Uint8ClampedArray(2);\n  call($set, array, { length: 1, 0: 3 }, 1);\n  return array[1] !== 3;\n});\n\n// https://bugs.chromium.org/p/v8/issues/detail?id=11294 and other\nvar TO_OBJECT_BUG = WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS && ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS && fails(function () {\n  var array = new Int8Array(2);\n  array.set(1);\n  array.set('2', 1);\n  return array[0] !== 0 || array[1] !== 2;\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var src = toIndexedObject(arrayLike);\n  if (WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS) return call($set, this, src, offset);\n  var length = this.length;\n  var len = lengthOfArrayLike(src);\n  var index = 0;\n  if (len + offset > length) throw new RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, !WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS || TO_OBJECT_BUG);\n","'use strict';\nvar $ = require('../internals/export');\nvar $transfer = require('../internals/array-buffer-transfer');\n\n// `ArrayBuffer.prototype.transferToFixedLength` method\n// https://tc39.es/proposal-arraybuffer-transfer/#sec-arraybuffer.prototype.transfertofixedlength\nif ($transfer) $({ target: 'ArrayBuffer', proto: true }, {\n  transferToFixedLength: function transferToFixedLength() {\n    return $transfer(this, arguments.length ? arguments[0] : undefined, false);\n  }\n});\n","'use strict';\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar toIndex = require('../internals/to-index');\nvar isDetached = require('../internals/array-buffer-is-detached');\nvar arrayBufferByteLength = require('../internals/array-buffer-byte-length');\nvar detachTransferable = require('../internals/detach-transferable');\nvar PROPER_STRUCTURED_CLONE_TRANSFER = require('../internals/structured-clone-proper-transfer');\n\nvar structuredClone = global.structuredClone;\nvar ArrayBuffer = global.ArrayBuffer;\nvar DataView = global.DataView;\nvar TypeError = global.TypeError;\nvar min = Math.min;\nvar ArrayBufferPrototype = ArrayBuffer.prototype;\nvar DataViewPrototype = DataView.prototype;\nvar slice = uncurryThis(ArrayBufferPrototype.slice);\nvar isResizable = uncurryThisAccessor(ArrayBufferPrototype, 'resizable', 'get');\nvar maxByteLength = uncurryThisAccessor(ArrayBufferPrototype, 'maxByteLength', 'get');\nvar getInt8 = uncurryThis(DataViewPrototype.getInt8);\nvar setInt8 = uncurryThis(DataViewPrototype.setInt8);\n\nmodule.exports = (PROPER_STRUCTURED_CLONE_TRANSFER || detachTransferable) && function (arrayBuffer, newLength, preserveResizability) {\n  var byteLength = arrayBufferByteLength(arrayBuffer);\n  var newByteLength = newLength === undefined ? byteLength : toIndex(newLength);\n  var fixedLength = !isResizable || !isResizable(arrayBuffer);\n  var newBuffer;\n  if (isDetached(arrayBuffer)) throw new TypeError('ArrayBuffer is detached');\n  if (PROPER_STRUCTURED_CLONE_TRANSFER) {\n    arrayBuffer = structuredClone(arrayBuffer, { transfer: [arrayBuffer] });\n    if (byteLength === newByteLength && (preserveResizability || fixedLength)) return arrayBuffer;\n  }\n  if (byteLength >= newByteLength && (!preserveResizability || fixedLength)) {\n    newBuffer = slice(arrayBuffer, 0, newByteLength);\n  } else {\n    var options = preserveResizability && !fixedLength && maxByteLength ? { maxByteLength: maxByteLength(arrayBuffer) } : undefined;\n    newBuffer = new ArrayBuffer(newByteLength, options);\n    var a = new DataView(arrayBuffer);\n    var b = new DataView(newBuffer);\n    var copyLength = min(newByteLength, byteLength);\n    for (var i = 0; i < copyLength; i++) setInt8(b, i, getInt8(a, i));\n  }\n  if (!PROPER_STRUCTURED_CLONE_TRANSFER) detachTransferable(arrayBuffer);\n  return newBuffer;\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\n// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar arrayWith = require('../internals/array-with');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar isBigIntArray = require('../internals/is-big-int-array');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toBigInt = require('../internals/to-big-int');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar PROPER_ORDER = !!function () {\n  try {\n    // eslint-disable-next-line no-throw-literal, es/no-typed-arrays, es/no-array-prototype-with -- required for testing\n    new Int8Array(1)['with'](2, { valueOf: function () { throw 8; } });\n  } catch (error) {\n    // some early implementations, like WebKit, does not follow the final semantic\n    // https://github.com/tc39/proposal-change-array-by-copy/pull/86\n    return error === 8;\n  }\n}();\n\n// `%TypedArray%.prototype.with` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.with\nexportTypedArrayMethod('with', { 'with': function (index, value) {\n  var O = aTypedArray(this);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualValue = isBigIntArray(O) ? toBigInt(value) : +value;\n  return arrayWith(O, getTypedArrayConstructor(O), relativeIndex, actualValue);\n} }['with'], !PROPER_ORDER);\n","'use strict';\nvar IS_DENO = require('../internals/engine-is-deno');\nvar IS_NODE = require('../internals/engine-is-node');\n\nmodule.exports = !IS_DENO && !IS_NODE\n  && typeof window == 'object'\n  && typeof document == 'object';\n","'use strict';\n/* global Deno -- Deno case */\nmodule.exports = typeof Deno == 'object' && Deno && typeof Deno.version == 'object';\n","'use strict';\nvar arrayToReversed = require('../internals/array-to-reversed');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\n\n// `%TypedArray%.prototype.toReversed` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.toreversed\nexportTypedArrayMethod('toReversed', function toReversed() {\n  return arrayToReversed(aTypedArray(this), getTypedArrayConstructor(this));\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar arrayBufferByteLength = require('../internals/array-buffer-byte-length');\n\nvar slice = uncurryThis(ArrayBuffer.prototype.slice);\n\nmodule.exports = function (O) {\n  if (arrayBufferByteLength(O) !== 0) return false;\n  try {\n    slice(O, 0, 0);\n    return false;\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar IS_NODE = require('../internals/engine-is-node');\n\nmodule.exports = function (name) {\n  try {\n    // eslint-disable-next-line no-new-func -- safe\n    if (IS_NODE) return Function('return require(\"' + name + '\")')();\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.at` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.at\nexportTypedArrayMethod('at', function at(index) {\n  var O = aTypedArray(this);\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n  return (k < 0 || k >= len) ? undefined : O[k];\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLast = require('../internals/array-iteration-from-last').findLast;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLast` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findlast\nexportTypedArrayMethod('findLast', function findLast(predicate /* , thisArg */) {\n  return $findLast(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ findLast, findLastIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_FIND_LAST_INDEX = TYPE === 1;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var index = lengthOfArrayLike(self);\n    var boundFunction = bind(callbackfn, that);\n    var value, result;\n    while (index-- > 0) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (result) switch (TYPE) {\n        case 0: return value; // findLast\n        case 1: return index; // findLastIndex\n      }\n    }\n    return IS_FIND_LAST_INDEX ? -1 : undefined;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.findLast` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLast: createMethod(0),\n  // `Array.prototype.findLastIndex` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLastIndex: createMethod(1)\n};\n","'use strict';\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar classof = require('../internals/classof-raw');\n\nvar $TypeError = TypeError;\n\n// Includes\n// - Perform ? RequireInternalSlot(O, [[ArrayBufferData]]).\n// - If IsSharedArrayBuffer(O) is true, throw a TypeError exception.\nmodule.exports = uncurryThisAccessor(ArrayBuffer.prototype, 'byteLength', 'get') || function (O) {\n  if (classof(O) !== 'ArrayBuffer') throw new $TypeError('ArrayBuffer expected');\n  return O.byteLength;\n};\n","'use strict';\nvar classof = require('../internals/classof');\n\nmodule.exports = function (it) {\n  var klass = classof(it);\n  return klass === 'BigInt64Array' || klass === 'BigUint64Array';\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $RangeError = RangeError;\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.with\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.with\nmodule.exports = function (O, C, index, value) {\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualIndex = relativeIndex < 0 ? len + relativeIndex : relativeIndex;\n  if (actualIndex >= len || actualIndex < 0) throw new $RangeError('Incorrect index');\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = k === actualIndex ? value : O[k];\n  return A;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar V8 = require('../internals/engine-v8-version');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_DENO = require('../internals/engine-is-deno');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar structuredClone = global.structuredClone;\n\nmodule.exports = !!structuredClone && !fails(function () {\n  // prevent V8 ArrayBufferDetaching protector cell invalidation and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if ((IS_DENO && V8 > 92) || (IS_NODE && V8 > 94) || (IS_BROWSER && V8 > 97)) return false;\n  var buffer = new ArrayBuffer(8);\n  var clone = structuredClone(buffer, { transfer: [buffer] });\n  return buffer.byteLength !== 0 || clone.byteLength !== 8;\n});\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.toReversed\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.toReversed\nmodule.exports = function (O, C) {\n  var len = lengthOfArrayLike(O);\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = O[len - k - 1];\n  return A;\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nmodule.exports = function (Constructor, list, $length) {\n  var index = 0;\n  var length = arguments.length > 2 ? $length : lengthOfArrayLike(list);\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-basic-detection');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw new TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw new TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw new TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineBuiltInAccessor(TypedArrayPrototype, TO_STRING_TAG, {\n    configurable: true,\n    get: function () {\n      return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n    }\n  });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\n\nvar $TypeError = TypeError;\n\n// `ToBigInt` abstract operation\n// https://tc39.es/ecma262/#sec-tobigint\nmodule.exports = function (argument) {\n  var prim = toPrimitive(argument, 'number');\n  if (typeof prim == 'number') throw new $TypeError(\"Can't convert number to bigint\");\n  // eslint-disable-next-line es/no-bigint -- safe\n  return BigInt(prim);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw new $RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n"],"sourceRoot":""}