(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.e73b60ec"],{"0836":function(e,t,a){},"232e":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"boton-reporte-mensual"},[t("div",{staticClass:"fab-container"},[t("button",{class:["fab-main",{active:e.menuAbierto}],attrs:{"aria-label":"Men√∫ de reportes"},on:{click:e.toggleMenu}},[t("i",{staticClass:"fab-icon"},[e._v(e._s(e.menuAbierto?"‚úï":"üìä"))])]),t("transition",{attrs:{name:"fab-menu"}},[e.menuAbierto?t("div",{staticClass:"fab-menu"},[t("router-link",{staticClass:"fab-option",attrs:{to:"/barcos/resumen-mensual"},on:{click:e.cerrarMenu}},[t("i",{staticClass:"option-icon"},[e._v("üìà")]),t("span",{staticClass:"option-text"},[e._v("Reporte Mensual")])]),t("button",{staticClass:"fab-option",on:{click:e.generarReporteRapido}},[t("i",{staticClass:"option-icon"},[e._v("‚ö°")]),t("span",{staticClass:"option-text"},[e._v("Reporte R√°pido")])]),t("button",{staticClass:"fab-option",on:{click:e.exportarDatos}},[t("i",{staticClass:"option-icon"},[e._v("üìÑ")]),t("span",{staticClass:"option-text"},[e._v("Exportar PDF")])])],1):e._e()])],1),e.menuAbierto?t("div",{staticClass:"fab-overlay",on:{click:e.cerrarMenu}}):e._e(),e.mostrarModalRapido?t("div",{staticClass:"modal-overlay",on:{click:e.cerrarModalRapido}},[t("div",{staticClass:"modal-content",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"modal-header"},[t("h3",[e._v("üìä Reporte R√°pido")]),t("button",{staticClass:"btn-cerrar",on:{click:e.cerrarModalRapido}},[e._v("‚úï")])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"resumen-rapido"},[t("div",{staticClass:"periodo-selector"},[t("label",[e._v("Seleccionar per√≠odo:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.periodoSeleccionado,expression:"periodoSeleccionado"}],staticClass:"select-periodo",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.periodoSeleccionado=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"mes-actual"}},[e._v("Mes actual")]),t("option",{attrs:{value:"mes-anterior"}},[e._v("Mes anterior")]),t("option",{attrs:{value:"ultimos-3-meses"}},[e._v("√öltimos 3 meses")]),t("option",{attrs:{value:"personalizado"}},[e._v("Personalizado")])])]),"personalizado"===e.periodoSeleccionado?t("div",{staticClass:"fechas-personalizadas"},[t("div",{staticClass:"fecha-grupo"},[t("label",[e._v("Desde:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fechaInicio,expression:"fechaInicio"}],staticClass:"input-fecha",attrs:{type:"date"},domProps:{value:e.fechaInicio},on:{input:function(t){t.target.composing||(e.fechaInicio=t.target.value)}}})]),t("div",{staticClass:"fecha-grupo"},[t("label",[e._v("Hasta:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fechaFin,expression:"fechaFin"}],staticClass:"input-fecha",attrs:{type:"date"},domProps:{value:e.fechaFin},on:{input:function(t){t.target.composing||(e.fechaFin=t.target.value)}}})])]):e._e(),t("div",{staticClass:"opciones-reporte"},[t("h4",[e._v("Incluir en el reporte:")]),t("div",{staticClass:"checkbox-grupo"},[t("label",{staticClass:"checkbox-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.incluirGraficos,expression:"incluirGraficos"}],attrs:{type:"checkbox",checked:""},domProps:{checked:Array.isArray(e.incluirGraficos)?e._i(e.incluirGraficos,null)>-1:e.incluirGraficos},on:{change:function(t){var a=e.incluirGraficos,o=t.target,i=!!o.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);o.checked?r<0&&(e.incluirGraficos=a.concat([s])):r>-1&&(e.incluirGraficos=a.slice(0,r).concat(a.slice(r+1)))}else e.incluirGraficos=i}}}),t("span",{staticClass:"checkmark"},[e._v("‚úì")]),e._v(" Gr√°ficos y estad√≠sticas ")]),t("label",{staticClass:"checkbox-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.incluirDetalle,expression:"incluirDetalle"}],attrs:{type:"checkbox",checked:""},domProps:{checked:Array.isArray(e.incluirDetalle)?e._i(e.incluirDetalle,null)>-1:e.incluirDetalle},on:{change:function(t){var a=e.incluirDetalle,o=t.target,i=!!o.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);o.checked?r<0&&(e.incluirDetalle=a.concat([s])):r>-1&&(e.incluirDetalle=a.slice(0,r).concat(a.slice(r+1)))}else e.incluirDetalle=i}}}),t("span",{staticClass:"checkmark"},[e._v("‚úì")]),e._v(" Detalle por proveedor ")]),t("label",{staticClass:"checkbox-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.incluirComparacion,expression:"incluirComparacion"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.incluirComparacion)?e._i(e.incluirComparacion,null)>-1:e.incluirComparacion},on:{change:function(t){var a=e.incluirComparacion,o=t.target,i=!!o.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);o.checked?r<0&&(e.incluirComparacion=a.concat([s])):r>-1&&(e.incluirComparacion=a.slice(0,r).concat(a.slice(r+1)))}else e.incluirComparacion=i}}}),t("span",{staticClass:"checkmark"},[e._v("‚úì")]),e._v(" Comparaci√≥n con per√≠odo anterior ")])])])])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn-secundario",on:{click:e.cerrarModalRapido}},[e._v(" Cancelar ")]),t("button",{staticClass:"btn-primario",on:{click:e.procesarReporteRapido}},[t("i",{staticClass:"btn-icon"},[e._v("üöÄ")]),e._v(" Generar Reporte ")])])])]):e._e()])},i=[],s=(a("14d9"),{name:"BotonReporteMensual",data(){return{menuAbierto:!1,mostrarModalRapido:!1,periodoSeleccionado:"mes-actual",fechaInicio:"",fechaFin:"",incluirGraficos:!0,incluirDetalle:!0,incluirComparacion:!1}},mounted(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);this.fechaInicio=t.toISOString().split("T")[0],this.fechaFin=e.toISOString().split("T")[0],window.addEventListener("scroll",this.cerrarMenu)},beforeDestroy(){window.removeEventListener("scroll",this.cerrarMenu)},methods:{toggleMenu(){this.menuAbierto=!this.menuAbierto},cerrarMenu(){this.menuAbierto=!1},generarReporteRapido(){this.cerrarMenu(),this.mostrarModalRapido=!0},cerrarModalRapido(){this.mostrarModalRapido=!1},async procesarReporteRapido(){try{console.log("Generando reporte r√°pido con opciones:",{periodo:this.periodoSeleccionado,fechaInicio:this.fechaInicio,fechaFin:this.fechaFin,incluirGraficos:this.incluirGraficos,incluirDetalle:this.incluirDetalle,incluirComparacion:this.incluirComparacion}),await new Promise(e=>setTimeout(e,1500)),this.$router.push("/barcos/resumen-mensual"),this.cerrarModalRapido(),this.$emit("reporte-generado",{tipo:"rapido",periodo:this.periodoSeleccionado})}catch(e){console.error("Error al generar reporte r√°pido:",e),alert("Error al generar el reporte r√°pido")}},async exportarDatos(){this.cerrarMenu();try{this.$router.push("/barcos/resumen-mensual"),this.$emit("datos-exportados")}catch(e){console.error("Error al navegar al reporte:",e),alert("Error al acceder al reporte")}}}}),r=s,n=(a("b974"),a("2877")),c=Object(n["a"])(r,o,i,!1,null,"12be25cf",null);t["a"]=c.exports},"27b2":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"buscador-medidas-container"},[t("div",{staticClass:"header"},[t("h2",[e._v("Consulta de Medidas")]),t("button",{staticClass:"btn-buscar",on:{click:e.mostrarModal}},[t("i",{staticClass:"fas fa-search"}),e._v(" Buscar Medidas ")])]),t("b-modal",{attrs:{title:"Buscar Medidas Preparadas",size:"xl"},on:{show:e.inicializarBusqueda},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("div",{staticClass:"modal-footer-custom"},[e.resultados.length>0?t("button",{staticClass:"btn-exportar",on:{click:e.exportarResultados}},[t("i",{staticClass:"fas fa-download"}),e._v(" Exportar ")]):e._e(),t("button",{staticClass:"btn-cerrar",on:{click:function(t){e.showModal=!1}}},[e._v(" Cerrar ")])])]},proxy:!0}]),model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[t("div",{staticClass:"filtros-container"},[t("div",{staticClass:"filtros-row"},[t("div",{staticClass:"filtro-grupo"},[t("label",[e._v("Medida:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filtros.medida,expression:"filtros.medida"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filtros,"medida",t.target.multiple?a:a[0])},e.buscarMedidas]}},[t("option",{attrs:{value:""}},[e._v("Todas las medidas")]),e._l(e.medidasUnicas,(function(a){return t("option",{key:a,domProps:{value:a}},[e._v(" "+e._s(a)+" ")])}))],2)]),t("div",{staticClass:"filtro-grupo"},[t("label",[e._v("Proveedor:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filtros.proveedor,expression:"filtros.proveedor"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filtros,"proveedor",t.target.multiple?a:a[0])},e.buscarMedidas]}},[t("option",{attrs:{value:""}},[e._v("Todos los proveedores")]),e._l(e.proveedoresUnicos,(function(a){return t("option",{key:a,domProps:{value:a}},[e._v(" "+e._s(a)+" ")])}))],2)]),t("div",{staticClass:"filtro-grupo"},[t("label",[e._v("D√≠a/Noche:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filtros.diaNoche,expression:"filtros.diaNoche"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filtros,"diaNoche",t.target.multiple?a:a[0])},e.buscarMedidas]}},[t("option",{attrs:{value:""}},[e._v("Todos")]),t("option",{attrs:{value:"D√≠a"}},[e._v("D√≠a")]),t("option",{attrs:{value:"Noche"}},[e._v("Noche")])])]),t("div",{staticClass:"filtro-grupo"},[t("label",[e._v("Cajas:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.filtros.cajas,expression:"filtros.cajas"}],staticClass:"form-control",attrs:{type:"number",placeholder:"N√∫mero exacto de cajas",min:"0",step:"1"},domProps:{value:e.filtros.cajas},on:{input:[function(t){t.target.composing||e.$set(e.filtros,"cajas",t.target.value)},e.buscarMedidas]}})]),t("div",{staticClass:"filtro-grupo"},[t("label",[e._v("Ordenar por:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filtros.ordenamiento,expression:"filtros.ordenamiento"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filtros,"ordenamiento",t.target.multiple?a:a[0])},e.aplicarOrdenamiento]}},[t("option",{attrs:{value:"fecha"}},[e._v("Fecha (m√°s reciente)")]),t("option",{attrs:{value:"mejor-rendimiento"}},[e._v("Mejor rendimiento")]),t("option",{attrs:{value:"peor-rendimiento"}},[e._v("Peor rendimiento")])])])]),e.resultados.length>0?t("div",{staticClass:"estadisticas"},[t("div",{staticClass:"stats-card"},[t("span",{staticClass:"stats-label"},[e._v("Total preparaciones:")]),t("span",{staticClass:"stats-value"},[e._v(e._s(e.totalPreparaciones))])]),t("div",{staticClass:"stats-card"},[t("span",{staticClass:"stats-label"},[e._v("Promedio rendimiento:")]),t("span",{staticClass:"stats-value"},[e._v(e._s(e.promedioRendimiento)+"%")])])]):e._e()]),e.resultados.length>0?t("div",{staticClass:"resultados-container"},[t("div",{staticClass:"tabla-wrapper"},[t("table",{staticClass:"tabla-resultados"},[t("thead",[t("tr",[t("th",[e._v("Fecha")]),t("th",[e._v("Medida")]),t("th",[e._v("Proveedor")]),t("th",[e._v("D√≠a/Noche")]),t("th",[e._v("Tipo")]),t("th",[e._v("Cajas")]),t("th",[e._v("Cal")]),t("th",[e._v("Sal")]),t("th",[e._v("Rendimiento")])])]),t("tbody",e._l(e.resultadosOrdenados,(function(a){return t("tr",{key:a.id+"-"+a.medidaIndex,staticClass:"resultado-row"},[t("td",{staticClass:"fecha-col"},[e._v(e._s(e.formatearFecha(a.fecha)))]),t("td",{staticClass:"medida-col"},[e._v(e._s(a.medida))]),t("td",{staticClass:"proveedor-col"},[e._v(e._s(a.proveedor||"Sin proveedor"))]),t("td",{staticClass:"dia-noche-col"},[e._v(e._s(a.diaNoche||"-"))]),t("td",{staticClass:"tipo-col"},[e._v(e._s(a.tinas))]),t("td",{staticClass:"cajas-col"},[e._v(e._s(a.cajas))]),t("td",{staticClass:"cal-col"},[e._v(e._s(a.cal))]),t("td",{staticClass:"sal-col"},[e._v(e._s(a.sal))]),t("td",{staticClass:"rendimiento-col",class:e.getRendimientoClass(a.rendimiento)},[e._v(" "+e._s(a.rendimiento)+"% ")])])})),0)])])]):e.busquedaRealizada?t("div",{staticClass:"no-resultados"},[t("i",{staticClass:"fas fa-search"}),t("p",[e._v("No se encontraron medidas con los criterios seleccionados")])]):t("div",{staticClass:"mensaje-inicial"},[t("i",{staticClass:"fas fa-filter"}),t("p",[e._v("Selecciona los filtros para buscar medidas preparadas")])])])],1)},i=[],s=(a("14d9"),a("13d5"),a("88e6"),a("70cc"),a("eb03"),a("22e5c"),a("c01e"),a("fa76"),a("8306"),a("88a7"),a("271a"),a("5494"),a("1494")),r={name:"BuscadorMedidas",data(){return{showModal:!1,busquedaRealizada:!1,filtros:{medida:"",proveedor:"",diaNoche:"",cajas:"",ordenamiento:"fecha"},resultados:[],todasLasPreparaciones:[]}},computed:{medidasUnicas(){const e=new Map;return this.todasLasPreparaciones.forEach(t=>{t.medidas.forEach(t=>{if(t.medida){const a=t.medida.trim().toLowerCase();e.has(a)||e.set(a,t.medida.trim())}})}),Array.from(new Set(e.values())).sort()},proveedoresUnicos(){const e=new Map;return this.todasLasPreparaciones.forEach(t=>{t.medidas.forEach(t=>{if(t.proveedor&&""!==t.proveedor.trim()){const a=t.proveedor.trim().toLowerCase();e.has(a)||e.set(a,t.proveedor.trim())}})}),Array.from(new Set(e.values())).sort()},resultadosOrdenados(){const e=[...this.resultados];switch(this.filtros.ordenamiento){case"mejor-rendimiento":return e.sort((e,t)=>{var a,o;const i=parseFloat((null===(a=e.rendimiento)||void 0===a?void 0:a.toString().replace("%",""))||0),s=parseFloat((null===(o=t.rendimiento)||void 0===o?void 0:o.toString().replace("%",""))||0);return i-s});case"peor-rendimiento":return e.sort((e,t)=>{var a,o;const i=parseFloat((null===(a=e.rendimiento)||void 0===a?void 0:a.toString().replace("%",""))||0),s=parseFloat((null===(o=t.rendimiento)||void 0===o?void 0:o.toString().replace("%",""))||0);return s-i});case"fecha":default:return e.sort((e,t)=>new Date(t.fecha)-new Date(e.fecha))}},totalPreparaciones(){return this.resultados.length},promedioRendimiento(){if(0===this.resultados.length)return 0;const e=this.resultados.filter(e=>e.rendimiento&&""!==e.rendimiento);if(0===e.length)return 0;const t=e.reduce((e,t)=>{const a=parseFloat(t.rendimiento.toString().replace("%",""));return e+(a||0)},0);return(t/e.length).toFixed(1)}},methods:{mostrarModal(){this.showModal=!0},async inicializarBusqueda(){0===this.todasLasPreparaciones.length&&await this.cargarTodasLasPreparaciones(),console.log("Preparaciones cargadas:",this.todasLasPreparaciones.length),console.log("Proveedores √∫nicos encontrados:",this.proveedoresUnicos),console.log("Medidas √∫nicas encontradas:",this.medidasUnicas)},async cargarTodasLasPreparaciones(){try{const e=Object(s["h"])(),t=Object(s["o"])(Object(s["c"])(e,"preparacion"),Object(s["l"])("timestamp","desc")),a=await Object(s["g"])(t);this.todasLasPreparaciones=a.docs.map(e=>{const t=e.data();return{id:e.id,...t}})}catch(e){console.error("Error al cargar preparaciones:",e)}},buscarMedidas(){this.busquedaRealizada=!0,this.resultados=[],this.todasLasPreparaciones.forEach(e=>{e.medidas.forEach((t,a)=>{let o=!0;if(this.filtros.medida&&t.medida!==this.filtros.medida&&(o=!1),this.filtros.proveedor&&t.proveedor!==this.filtros.proveedor&&(o=!1),this.filtros.diaNoche&&t.diaNoche!==this.filtros.diaNoche&&(o=!1),""!==this.filtros.cajas){const e=parseFloat(t.cajas)||0,a=parseFloat(this.filtros.cajas)||0;e!==a&&(o=!1)}o&&t.medida&&t.porcentaje&&""!==t.porcentaje.toString().trim()&&this.resultados.push({id:e.id,medidaIndex:a,fecha:e.fecha,medida:t.medida,proveedor:t.proveedor,diaNoche:t.diaNoche,tinas:t.tinas,cajas:t.cajas,cal:t.cal,sal:t.sal,rendimiento:t.porcentaje})})})},formatearFecha(e){const[t,a,o]=e.split("-");return new Date(t,a-1,o).toLocaleDateString("es-ES",{weekday:"short",year:"numeric",month:"short",day:"numeric"})},getRendimientoClass(e){if(!e)return"";const t=parseFloat(e.toString().replace("%",""));return t>=80?"rendimiento-alto":t>=60?"rendimiento-medio":"rendimiento-bajo"},aplicarOrdenamiento(){console.log("Aplicando ordenamiento:",this.filtros.ordenamiento)},exportarResultados(){if(0===this.resultados.length)return;let e="Fecha,Medida,Proveedor,D√≠a/Noche,Tipo,Cajas,Cal,Sal,Rendimiento\n";this.resultadosOrdenados.forEach(t=>{e+=`${this.formatearFecha(t.fecha)},${t.medida},${t.proveedor||"Sin proveedor"},${t.diaNoche||"-"},${t.tinas||""},${t.cajas||""},${t.cal||""},${t.sal||""},${t.rendimiento||""}\n`});const t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(t);a.setAttribute("href",o),a.setAttribute("download",`medidas_preparacion_${(new Date).toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},n=r,c=(a("56b0"),a("2877")),l=Object(c["a"])(n,o,i,!1,null,"859ce29e",null);t["a"]=l.exports},"3f13":function(e,t,a){},4466:function(e,t,a){},"4e00":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"add-client"},[t("div",{staticClass:"back-button-container"},[t("BackButton",{attrs:{to:"/NoteMenu"}})],1),e._m(0),t("form",{on:{submit:function(t){return t.preventDefault(),e.addClient.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"name"}},[e._v("Nombre:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),t("button",{attrs:{type:"submit"}},[e._v("Agregar Cliente")])]),e._m(1),t("ul",e._l(e.clients,(function(a){return t("li",{key:a.id},[e._v(" "+e._s(a.name)+" "),t("button",{on:{click:function(t){return e.deleteClient(a.id)}}},[e._v("Eliminar")])])})),0)])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"add-client-form"},[t("h2",[e._v("Agregar Cliente")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"add-client-form"},[t("h2",[e._v("Lista de Clientes")])])}],s=(a("d9e2"),a("74c9")),r=a("dc59"),n=a("1494"),c={components:{BackButton:s["a"]},data(){return{name:"",clients:[]}},methods:{async addClient(){try{if(console.log("DB instance:",r["a"]),!r["a"])throw new Error("Firestore DB is not initialized");await Object(n["b"])(Object(n["c"])(r["a"],"clients"),{name:this.name}),this.name="",this.fetchClients()}catch(e){console.error("Error adding client: ",e)}},async fetchClients(){try{const e=await Object(n["g"])(Object(n["c"])(r["a"],"clients"));this.clients=e.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.error("Error fetching clients: ",e)}},deleteClient(e){window.confirm("¬øEst√°s seguro de que deseas eliminar este cliente?")&&Object(n["d"])(Object(n["e"])(r["a"],"clients",e)).then(()=>{console.log("Cliente eliminado con √©xito")}).catch(e=>{console.error("Error al eliminar el cliente: ",e)})}},async mounted(){this.fetchClients()}},l=c,d=(a("f90b"),a("2877")),u=Object(d["a"])(l,o,i,!1,null,"024a7518",null);t["a"]=u.exports},5355:function(e,t,a){},"56b0":function(e,t,a){"use strict";a("3f13")},6959:function(e,t,a){"use strict";a("712a")},"712a":function(e,t,a){},"74c9":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("router-link",{staticClass:"btn-back",attrs:{to:e.to}},[e._v("Atr√°s")])},i=[],s={props:{to:{type:String,required:!0}}},r=s,n=(a("e0fe"),a("2877")),c=Object(n["a"])(r,o,i,!1,null,null,null);t["a"]=c.exports},"7b75":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("BaseModal",{attrs:{mostrar:e.mostrar,titulo:e.titulo,textoBotonConfirmar:e.textoBoton},on:{cerrar:function(t){return e.$emit("cerrar")},confirmar:e.guardarCosto}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"costoInput"}},[e._v(e._s(e.etiquetaCosto)+":")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.costoLocal,expression:"costoLocal"}],ref:"costoInput",staticClass:"form-control",attrs:{type:"number",id:"costoInput",placeholder:e.placeholder,step:"0.01",min:"0"},domProps:{value:e.costoLocal},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.guardarCosto.apply(null,arguments)},input:function(t){t.target.composing||(e.costoLocal=t.target.value)}}})]),e.esCostoEmbarque?e._e():t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"fechaInput"}},[e._v("Fecha:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fechaLocal,expression:"fechaLocal"}],staticClass:"form-control",attrs:{type:"date",id:"fechaInput",max:e.maxDate},domProps:{value:e.fechaLocal},on:{input:function(t){t.target.composing||(e.fechaLocal=t.target.value)}}})]),e.mostrarInfo?t("div",{staticClass:"info-adicional"},[null!==e.costoAnterior?t("p",{staticClass:"costo-anterior"},[t("strong",[e._v("Costo anterior:")]),e._v(" $"+e._s(e.costoAnterior.toFixed(2))+" ")]):e._e(),e.fechaUltimaActualizacion?t("p",{staticClass:"fecha-anterior"},[t("strong",[e._v("√öltima actualizaci√≥n:")]),e._v(" "+e._s(e.fechaUltimaActualizacion)+" ")]):e._e()]):e._e()])},i=[],s=a("ff7a"),r={name:"CostoModal",components:{BaseModal:s["a"]},props:{mostrar:{type:Boolean,required:!0},costo:{type:[Number,String],default:""},medida:{type:String,default:""},esNuevo:{type:Boolean,default:!1},costoAnterior:{type:Number,default:null},fechaUltimaActualizacion:{type:String,default:""},fecha:{type:String,default:()=>(new Date).toISOString().split("T")[0]},esCostoEmbarque:{type:Boolean,default:!1}},data(){return{costoLocal:"",fechaLocal:""}},computed:{titulo(){return this.esNuevo?"Registrar Nueva Medida":this.esCostoEmbarque?"Costo Espec√≠fico - "+this.medida:"Actualizar Costo - "+this.medida},etiquetaCosto(){return this.esNuevo?"Costo Base":this.esCostoEmbarque?"Costo para este embarque":"Nuevo Costo"},placeholder(){return this.esNuevo?"Ingrese el costo base":this.esCostoEmbarque?"Ingrese el costo espec√≠fico":"Ingrese el nuevo costo"},textoBoton(){return this.esNuevo?"Registrar":this.esCostoEmbarque?"Guardar":"Actualizar"},mostrarInfo(){return!this.esNuevo&&(null!==this.costoAnterior||this.fechaUltimaActualizacion)},maxDate(){return(new Date).toISOString().split("T")[0]}},watch:{mostrar(e){e&&(this.costoLocal=this.costo,this.fechaLocal=this.fecha,this.$nextTick(()=>{var e;null===(e=this.$refs.costoInput)||void 0===e||e.focus()}))},costo(e){this.costoLocal=e},fecha(e){this.fechaLocal=e}},methods:{guardarCosto(){const e=parseFloat(this.costoLocal);!isNaN(e)&&e>=0?this.esCostoEmbarque?this.$emit("guardar",e):this.$emit("guardar",{costo:e,fecha:this.fechaLocal}):""===this.costoLocal?this.esCostoEmbarque?this.$emit("guardar",null):this.$emit("guardar",{costo:null,fecha:this.fechaLocal}):alert("Por favor ingrese un costo v√°lido (mayor o igual a 0)")}}},n=r,c=(a("6959"),a("2877")),l=Object(c["a"])(n,o,i,!1,null,"1c9b47e4",null);t["a"]=l.exports},"7e16":function(e,t,a){},"8daa":function(e,t,a){"use strict";a("7e16")},b974:function(e,t,a){"use strict";a("4466")},e0fe:function(e,t,a){"use strict";a("5355")},e343:function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return e.showNotification?t("div",{staticClass:"auth-error-notification",class:{show:e.showNotification}},[t("div",{staticClass:"notification-content"},[t("div",{staticClass:"icon"},[e._v(" ‚ö†Ô∏è ")]),t("div",{staticClass:"message"},[t("h4",[e._v("Problema de Autenticaci√≥n")]),t("p",[e._v(e._s(e.message))]),t("small",[e._v("Por favor, vuelva a iniciar sesi√≥n para continuar.")])]),t("button",{staticClass:"login-btn",on:{click:e.redirectToLogin}},[e._v(" Ir a Login ")]),t("button",{staticClass:"close-btn",on:{click:e.hideNotification}},[e._v(" ‚úï ")])])]):e._e()},i=[],s=(a("14d9"),{name:"AuthErrorNotification",props:{message:{type:String,default:"Su sesi√≥n ha expirado o hay un problema con su autenticaci√≥n."},show:{type:Boolean,default:!1}},data(){return{showNotification:!1}},watch:{show(e){this.showNotification=e}},methods:{hideNotification(){this.showNotification=!1,this.$emit("hide")},redirectToLogin(){this.hideNotification(),this.$router.push("/login")}},mounted(){this.showNotification=this.show}}),r=s,n=(a("8daa"),a("2877")),c=Object(n["a"])(r,o,i,!1,null,"5b38adba",null);t["a"]=c.exports},f90b:function(e,t,a){"use strict";a("0836")}}]);