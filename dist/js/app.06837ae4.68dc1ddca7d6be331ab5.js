(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.06837ae4"],{"04a5":function(t,e,a){},3762:function(t,e,a){},"3dfd":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("div",{staticClass:"content-wrapper"},[e("router-view")],1),e("Footer")],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"safe-area-top"}),e("nav",{staticClass:"navbar-modern",attrs:{role:"navigation","aria-label":"Navegaci√≥n principal"}},[e("div",{staticClass:"navbar-brand-section"},[e("router-link",{staticClass:"brand-link",attrs:{to:"/","aria-label":"Ir al inicio - Rey Pez"}},[e("div",{staticClass:"logo-container"},[e("img",{staticClass:"logo-image",attrs:{src:"https://res.cloudinary.com/hwkcovsmr/image/upload/v1620946647/samples/REY_PEZ_LOGO_nsotww.png",alt:"Logo de Rey Pez",loading:"lazy"}})]),e("h1",{staticClass:"brand-title"},[t._v("Rey Pez")])])],1),e("button",{staticClass:"mobile-toggle",attrs:{"aria-expanded":t.mobileMenuOpen,"aria-controls":"mobile-navigation","aria-label":"Abrir men√∫ de navegaci√≥n"},on:{click:t.toggleMobileMenu}},[e("span",{staticClass:"hamburger-line",class:{active:t.mobileMenuOpen}}),e("span",{staticClass:"hamburger-line",class:{active:t.mobileMenuOpen}}),e("span",{staticClass:"hamburger-line",class:{active:t.mobileMenuOpen}})]),e("div",{staticClass:"nav-menu",class:{"mobile-open":t.mobileMenuOpen},attrs:{id:"mobile-navigation"}},[e("div",{staticClass:"nav-items"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/","aria-label":"Ir a la p√°gina de inicio"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("üè†")]),e("span",{staticClass:"nav-text"},[t._v("Home")])]),e("router-link",{staticClass:"nav-link",attrs:{to:"/noteMenu","aria-label":"Gestionar notas"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("üìù")]),e("span",{staticClass:"nav-text"},[t._v("Notas")])]),e("router-link",{staticClass:"nav-link",attrs:{to:"/sacadas","aria-label":"Ver entradas y salidas"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("üì¶")]),e("span",{staticClass:"nav-text"},[t._v("Entradas/Salidas")])]),e("router-link",{staticClass:"nav-link",attrs:{to:"/existencias","aria-label":"Ver existencias"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("üìä")]),e("span",{staticClass:"nav-text"},[t._v("Existencias")])]),e("router-link",{staticClass:"nav-link",attrs:{to:"/existencias-crudos","aria-label":"Ver existencias de productos crudos"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("ü¶ê")]),e("span",{staticClass:"nav-text"},[t._v("Existencias Crudos")])]),e("router-link",{staticClass:"nav-link",attrs:{to:"/cuentas-mexico","aria-label":"Ver cuentas de M√©xico"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("üá≤üáΩ")]),e("span",{staticClass:"nav-text"},[t._v("Cuentas M√©xico")])]),e("router-link",{staticClass:"nav-link",attrs:{to:"/embarques-menu","aria-label":"Gestionar embarques"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("üö¢")]),e("span",{staticClass:"nav-text"},[t._v("Embarques")])]),e("router-link",{staticClass:"nav-link",attrs:{to:"/procesos","aria-label":"Ver procesos"},on:{click:t.closeMobileMenu}},[e("i",{staticClass:"nav-icon"},[t._v("‚öôÔ∏è")]),e("span",{staticClass:"nav-text"},[t._v("Procesos")])])],1)]),t.mobileMenuOpen?e("div",{staticClass:"mobile-overlay",attrs:{"aria-hidden":"true"},on:{click:t.closeMobileMenu}}):t._e()])])},o=[],r={name:"Navbar",data(){return{mobileMenuOpen:!1}},methods:{toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen,this.mobileMenuOpen?(document.body.style.overflow="hidden",document.body.classList.add("mobile-menu-open")):(document.body.style.overflow="",document.body.classList.remove("mobile-menu-open"))},closeMobileMenu(){this.mobileMenuOpen=!1,document.body.style.overflow="",document.body.classList.remove("mobile-menu-open")},handleResize(){window.innerWidth>1024&&this.mobileMenuOpen&&this.closeMobileMenu()}},mounted(){window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize),document.body.style.overflow="",document.body.classList.remove("mobile-menu-open")}},l=r,c=(a("4f43"),a("2877")),d=Object(c["a"])(l,i,o,!1,null,"32f91d52",null),u=d.exports,m=function(){var t=this;t._self._c;return t._m(0)},p=[function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"footer-content"},[e("p",[t._v("¬© 2025 Rey Pez - Allan Reyes")])])])}],b={name:"Footer"},v=b,h=(a("7fd0"),Object(c["a"])(v,m,p,!1,null,"6331683e",null)),f=h.exports,g=a("f549"),C={name:"app",components:{Navbar:u,Footer:f},created(){const t=Object(g["useAuthStore"])();t.checkAuth()},mounted(){document.addEventListener("wheel",t=>{"number"===document.activeElement.type&&document.activeElement.blur()})}},_=C,x=(a("7f16"),Object(c["a"])(_,s,n,!1,null,null,null));e["a"]=x.exports},"4f43":function(t,e,a){"use strict";a("eca4")},"7f16":function(t,e,a){"use strict";a("3762")},"7fd0":function(t,e,a){"use strict";a("04a5")},"8c14":function(t,e,a){"use strict";a("d5b7")},"93ae":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cuentas-container"},[e("b-row",[e("b-col",{staticClass:"mb-3",attrs:{cols:"12",md:"6"}},[e("Calcular",{attrs:{cantidad:"$2",datos:t.datos},on:{dataArray:t.procesarDatos}})],1),e("b-col",{staticClass:"mb-3",attrs:{cols:"12",md:"6"}},[e("Calcular",{attrs:{cantidad:"$1",datos:t.datos},on:{dataArray:t.procesarDatos}})],1),e("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[e("b-button",{attrs:{variant:"primary",block:"",disabled:!t.tieneDatos},on:{click:t.imprimirCuentas}},[t._v(" Imprimir secci√≥n ")])],1),e("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[e("div",{ref:"seccionImpresion",staticClass:"seccion-impresion"},[e("h1",[t._v("Cuentas")]),e("p",{staticClass:"fecha-impresion"},[t._v(t._s(t.fechaFormateada))]),e("div",{staticClass:"lista-cuentas"},t._l(t.billetes,(function(a,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:a>0,expression:"cantidad > 0"}],key:s,staticClass:"cuenta-item"},[e("span",{staticClass:"denominacion"},[t._v("$"+t._s(s))]),e("span",{staticClass:"cantidad"},[t._v(t._s(a))])])})),0),e("div",{staticClass:"total-general"},[e("strong",[t._v("Total: $"+t._s(t.totalGeneral.toLocaleString()))])]),t.totalGeneral>0?e("div",{staticClass:"promedio-general"},[e("small",[t._v("Promedio: $"+t._s(Math.round(t.promedioPorLinea).toLocaleString()))])]):t._e()])])],1)],1)},n=[],i=(a("13d5"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"calcular-container"},[e("b-button",{staticClass:"boton-calcular",attrs:{variant:"primary",block:"",disabled:!t.tieneDatos||t.estaProcesando},on:{click:t.procesarArreglo}},[e("div",{staticClass:"contenido-boton"},[e("div",{staticClass:"icono-wrapper"},[t.estaProcesando?e("div",{staticClass:"spinner"}):e("span",{staticClass:"icono"},[t._v(t._s(t.iconoBoton))])]),e("div",{staticClass:"texto-boton"},[e("div",{staticClass:"titulo-boton"},[t._v(t._s(t.tituloBoton))]),e("div",{staticClass:"descripcion-boton"},[t._v(t._s(t.descripcionBoton))])])])]),t.mensajeEstado?e("div",{staticClass:"mensaje-estado",class:t.tipoMensaje},[t._v(" "+t._s(t.mensajeEstado)+" ")]):t._e()],1)}),o=[],r={name:"Calcular",props:{datos:{type:String,required:!0,validator(t){return"string"===typeof t}},cantidad:{type:String,required:!0,validator(t){return["$1","$2"].includes(t)}}},data(){return{estaProcesando:!1,mensajeEstado:"",tipoMensaje:"info"}},computed:{tieneDatos(){return this.datos&&this.datos.trim().length>0},esDenominacionDos(){return"$2"===this.cantidad},iconoBoton(){return this.esDenominacionDos,"üíµ"},tituloBoton(){return"Calcular con "+this.cantidad},descripcionBoton(){return this.tieneDatos?this.esDenominacionDos?"Monedas de $2 y $1":"Monedas de $1":"Ingrese datos primero"},datosLimpiados(){return this.tieneDatos?this.datos.split("\n").map(t=>t.trim()).filter(t=>t.length>0).filter(t=>!isNaN(parseFloat(t.replace(/[$,\s]/g,"")))).map(t=>parseFloat(t.replace(/[$,\s]/g,""))):[]},cantidadLineas(){return this.datosLimpiados.length}},methods:{async procesarArreglo(){if(this.validarDatos()){this.estaProcesando=!0,this.mensajeEstado=`Procesando ${this.cantidadLineas} l√≠neas...`,this.tipoMensaje="info";try{await this.esperar(300);const t=this.datosLimpiados.map(t=>t.toString());this.$emit("dataArray",{data:t,isTwo:this.esDenominacionDos,metadata:{totalLineas:this.cantidadLineas,tipoCalculo:this.cantidad,timestamp:(new Date).toISOString()}}),this.mensajeEstado=`‚úÖ Procesadas ${this.cantidadLineas} l√≠neas correctamente`,this.tipoMensaje="success",setTimeout(()=>{this.mensajeEstado=""},3e3)}catch(t){console.error("Error al procesar datos:",t),this.mensajeEstado="‚ùå Error al procesar los datos",this.tipoMensaje="error",setTimeout(()=>{this.mensajeEstado=""},5e3)}finally{this.estaProcesando=!1}}},validarDatos(){return this.tieneDatos?0!==this.cantidadLineas||(this.mensajeEstado="‚ö†Ô∏è No se encontraron n√∫meros v√°lidos",this.tipoMensaje="warning",setTimeout(()=>{this.mensajeEstado=""},3e3),!1):(this.mensajeEstado="‚ö†Ô∏è No hay datos para procesar",this.tipoMensaje="warning",setTimeout(()=>{this.mensajeEstado=""},3e3),!1)},esperar(t){return new Promise(e=>setTimeout(e,t))}},watch:{datos:{handler(){this.mensajeEstado&&"info"!==this.tipoMensaje&&(this.mensajeEstado="")}}}},l=r,c=(a("e33d"),a("2877")),d=Object(c["a"])(l,i,o,!1,null,"20538901",null),u=d.exports,m={name:"Cuentas",components:{Calcular:u},props:{datos:{type:String,default:""}},data(){return{billetes:{500:0,200:0,100:0,50:0,20:0,10:0,5:0,2:0,1:0}}},computed:{fechaFormateada(){const t={year:"numeric",month:"long",day:"numeric"};return(new Date).toLocaleDateString("es-ES",t)},tieneDatos(){return Object.values(this.billetes).some(t=>t>0)},totalGeneral(){return Object.entries(this.billetes).reduce((t,[e,a])=>t+e*a,0)},promedioPorLinea(){if(!this.datos||0===this.datos.trim().length)return 0;const t=this.datos.split("\n").map(t=>t.trim()).filter(t=>t.length>0&&!isNaN(parseFloat(t.replace(/[$,\s]/g,"")))).map(t=>parseFloat(t.replace(/[$,\s]/g,"")));if(0===t.length)return 0;const e=t.reduce((t,e)=>t+e,0);return e/t.length}},methods:{imprimirCuentas(){const t=this.$refs.seccionImpresion;if(!t)return void console.error("Secci√≥n de impresi√≥n no encontrada");const e=t.innerHTML,a="\n        <style>\n          @media print {\n            * {\n              -webkit-print-color-adjust: exact !important;\n              color-adjust: exact !important;\n            }\n          }\n          body {\n            font-family: 'Arial', sans-serif;\n            margin: 0;\n            padding: 20px;\n            background-color: white;\n            color: #000;\n            display: flex;\n            justify-content: center;\n          }\n          .contenedor-impresion {\n            max-width: 400px;\n            width: 100%;\n            margin: 0 auto;\n            padding: 30px;\n            background-color: white;\n            border: 1px solid #ddd;\n          }\n                     h1 {\n             color: #000;\n             text-align: center;\n             margin-bottom: 15px;\n             font-size: 28px;\n             font-weight: bold;\n           }\n           .fecha-impresion {\n             text-align: center;\n             color: #666;\n             font-size: 16px;\n             margin-bottom: 25px;\n           }\n           .lista-cuentas {\n             border-collapse: collapse;\n             width: 100%;\n             margin-bottom: 25px;\n           }\n                     .cuenta-item {\n             display: flex;\n             justify-content: space-between;\n             align-items: center;\n             padding: 8px 0;\n             border-bottom: 1px solid #eee;\n           }\n           .denominacion {\n             font-weight: bold;\n             color: #000;\n             font-size: 24px;\n             flex: 1;\n           }\n           .cantidad {\n             color: #333;\n             font-size: 24px;\n             font-weight: bold;\n             text-align: right;\n             flex: 1;\n           }\n                     .total-general {\n             text-align: center;\n             padding: 20px;\n             border: 2px solid #000;\n             background-color: white;\n             font-size: 22px;\n             font-weight: bold;\n             margin-top: 15px;\n           }\n           .promedio-general {\n             text-align: center;\n             padding: 10px;\n             color: #666;\n             font-size: 16px;\n             margin-top: 10px;\n           }\n        </style>\n      ",s=window.open("","_blank");s?(s.document.write(`\n        <!DOCTYPE html>\n        <html>\n          <head>\n            <title>Cuentas - ${this.fechaFormateada}</title>\n            <meta charset="UTF-8">\n            ${a}\n          </head>\n          <body>\n            <div class="contenedor-impresion">\n              ${e}\n            </div>\n          </body>\n        </html>\n      `),s.document.close(),s.focus(),setTimeout(()=>{s.print(),s.onafterprint=()=>{s.close()}},250)):console.error("No se pudo abrir la ventana de impresi√≥n")},procesarDatos({data:t,isTwo:e}){if(this.reiniciarBilletes(),!t||!Array.isArray(t))return;const a=e?[500,200,100,50,20,10,5,2,1]:[500,200,100,50,20,10,5,1,2];t.forEach(t=>{const e=this.calcularBilletes(t,a);e>0&&console.warn(`No se pudo calcular completamente la cantidad: ${t}, restante: ${e}`)})},calcularBilletes(t,e){let a=parseInt(t)||0;return a<=0?0:(e.forEach(t=>{const e=Math.floor(a/t);e>0&&(this.billetes[t]+=e,a-=e*t)}),a)},reiniciarBilletes(){Object.keys(this.billetes).forEach(t=>{this.billetes[t]=0})}}},p=m,b=(a("8c14"),Object(c["a"])(p,s,n,!1,null,"41efc181",null));e["a"]=b.exports},bbf8:function(t,e,a){},d5b7:function(t,e,a){},e33d:function(t,e,a){"use strict";a("bbf8")},eca4:function(t,e,a){}}]);